
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A tool to perform a bank erosion analysis based on a number of D-Flow FM simulations.">
      
      
      
        <link rel="canonical" href="https://deltares.github.io/D-FAST_Bank_Erosion/develop/api/io.html">
      
      
        <link rel="prev" href="bank_erosion.html">
      
      
        <link rel="next" href="cmd.html">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>IO - D-FAST Bank Erosion</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#io" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="D-FAST Bank Erosion" class="md-header__button md-logo" aria-label="D-FAST Bank Erosion" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            D-FAST Bank Erosion
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              IO
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Deltares/D-FAST_Bank_Erosion" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Deltares/D-FAST_Bank_Erosion
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../index.html" class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../guides/poetry.html" class="md-tabs__link">
          
  
  
    
  
  How-to

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../architecture-design/main-components.html" class="md-tabs__link">
          
  
  
    
  
  Architecture Design

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="bank_lines.html" class="md-tabs__link">
          
  
  
    
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../gui/gui.html" class="md-tabs__link">
          
  
  
    
  
  User Interface

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../change-log.html" class="md-tabs__link">
        
  
  
    
  
  Release Notes

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../license.html" class="md-tabs__link">
        
  
  
    
  
  License

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="D-FAST Bank Erosion" class="md-nav__button md-logo" aria-label="D-FAST Bank Erosion" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    D-FAST Bank Erosion
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Deltares/D-FAST_Bank_Erosion" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Deltares/D-FAST_Bank_Erosion
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How-to
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            How-to
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/poetry.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local clone + Poetry
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/contributing.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/documentation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/developer-instructions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/pre-commit-hooks.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pre-Commit Hooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/doctest.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docstrings and Doctest
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/testing.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Naming conventions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/teamcity-ci.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Teamcity ci
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture Design
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Architecture Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture-design/main-components.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    D-FAST Bank Erosion Architecture and Design
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="bank_lines.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bank_lines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="bank_lines_data_models.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bank_lines_data_models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="bank_erosion.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bank_erosion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    IO
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="io.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    IO
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#io_1" class="md-nav__link">
    <span class="md-ellipsis">
      IO
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dfastbe.io" class="md-nav__link">
    <span class="md-ellipsis">
      io
    </span>
  </a>
  
    <nav class="md-nav" aria-label="io">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseRiverData" class="md-nav__link">
    <span class="md-ellipsis">
      BaseRiverData
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BaseRiverData">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseRiverData.river_center_line" class="md-nav__link">
    <span class="md-ellipsis">
      river_center_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseRiverData.station_bounds" class="md-nav__link">
    <span class="md-ellipsis">
      station_bounds
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseRiverData.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseRiverData.get_bbox" class="md-nav__link">
    <span class="md-ellipsis">
      get_bbox
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseRiverData.get_erosion_sim_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_erosion_sim_data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseSimulationData" class="md-nav__link">
    <span class="md-ellipsis">
      BaseSimulationData
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BaseSimulationData">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseSimulationData.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseSimulationData.clip" class="md-nav__link">
    <span class="md-ellipsis">
      clip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseSimulationData.read" class="md-nav__link">
    <span class="md-ellipsis">
      read
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile" class="md-nav__link">
    <span class="md-ellipsis">
      ConfigFile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ConfigFile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.root_dir" class="md-nav__link">
    <span class="md-ellipsis">
      root_dir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.version" class="md-nav__link">
    <span class="md-ellipsis">
      version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.config_file_callback_parser" class="md-nav__link">
    <span class="md-ellipsis">
      config_file_callback_parser
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_bank_search_distances" class="md-nav__link">
    <span class="md-ellipsis">
      get_bank_search_distances
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_bool" class="md-nav__link">
    <span class="md-ellipsis">
      get_bool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_float" class="md-nav__link">
    <span class="md-ellipsis">
      get_float
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_int" class="md-nav__link">
    <span class="md-ellipsis">
      get_int
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_output_dir" class="md-nav__link">
    <span class="md-ellipsis">
      get_output_dir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_parameter" class="md-nav__link">
    <span class="md-ellipsis">
      get_parameter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_plotting_flags" class="md-nav__link">
    <span class="md-ellipsis">
      get_plotting_flags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_range" class="md-nav__link">
    <span class="md-ellipsis">
      get_range
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_river_center_line" class="md-nav__link">
    <span class="md-ellipsis">
      get_river_center_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_search_lines" class="md-nav__link">
    <span class="md-ellipsis">
      get_search_lines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_sim_file" class="md-nav__link">
    <span class="md-ellipsis">
      get_sim_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_start_end_stations" class="md-nav__link">
    <span class="md-ellipsis">
      get_start_end_stations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_str" class="md-nav__link">
    <span class="md-ellipsis">
      get_str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.make_paths_absolute" class="md-nav__link">
    <span class="md-ellipsis">
      make_paths_absolute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.parameter_relative_to" class="md-nav__link">
    <span class="md-ellipsis">
      parameter_relative_to
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.process_parameter" class="md-nav__link">
    <span class="md-ellipsis">
      process_parameter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.read" class="md-nav__link">
    <span class="md-ellipsis">
      read
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.read_bank_lines" class="md-nav__link">
    <span class="md-ellipsis">
      read_bank_lines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.relative_to" class="md-nav__link">
    <span class="md-ellipsis">
      relative_to
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.resolve" class="md-nav__link">
    <span class="md-ellipsis">
      resolve
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.resolve_parameter" class="md-nav__link">
    <span class="md-ellipsis">
      resolve_parameter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.validate_parameter_value" class="md-nav__link">
    <span class="md-ellipsis">
      validate_parameter_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.write" class="md-nav__link">
    <span class="md-ellipsis">
      write
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFileError" class="md-nav__link">
    <span class="md-ellipsis">
      ConfigFileError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry" class="md-nav__link">
    <span class="md-ellipsis">
      LineGeometry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LineGeometry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry.data" class="md-nav__link">
    <span class="md-ellipsis">
      data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry.add_data" class="md-nav__link">
    <span class="md-ellipsis">
      add_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry.intersect_with_line" class="md-nav__link">
    <span class="md-ellipsis">
      intersect_with_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry.mask" class="md-nav__link">
    <span class="md-ellipsis">
      mask
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry.to_file" class="md-nav__link">
    <span class="md-ellipsis">
      to_file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.SimulationFilesError" class="md-nav__link">
    <span class="md-ellipsis">
      SimulationFilesError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.absolute_path" class="md-nav__link">
    <span class="md-ellipsis">
      absolute_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.get_bbox" class="md-nav__link">
    <span class="md-ellipsis">
      get_bbox
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.get_filename" class="md-nav__link">
    <span class="md-ellipsis">
      get_filename
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.get_text" class="md-nav__link">
    <span class="md-ellipsis">
      get_text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.load_program_texts" class="md-nav__link">
    <span class="md-ellipsis">
      load_program_texts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.log_text" class="md-nav__link">
    <span class="md-ellipsis">
      log_text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.relative_path" class="md-nav__link">
    <span class="md-ellipsis">
      relative_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.write_csv" class="md-nav__link">
    <span class="md-ellipsis">
      write_csv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.write_km_eroded_volumes" class="md-nav__link">
    <span class="md-ellipsis">
      write_km_eroded_volumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.write_shp" class="md-nav__link">
    <span class="md-ellipsis">
      write_shp
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cmd.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cmd
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="kernel.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kernel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="plotting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    plotting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Interface
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            User Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gui/gui.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    gui
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../change-log.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../license.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#io_1" class="md-nav__link">
    <span class="md-ellipsis">
      IO
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dfastbe.io" class="md-nav__link">
    <span class="md-ellipsis">
      io
    </span>
  </a>
  
    <nav class="md-nav" aria-label="io">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseRiverData" class="md-nav__link">
    <span class="md-ellipsis">
      BaseRiverData
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BaseRiverData">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseRiverData.river_center_line" class="md-nav__link">
    <span class="md-ellipsis">
      river_center_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseRiverData.station_bounds" class="md-nav__link">
    <span class="md-ellipsis">
      station_bounds
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseRiverData.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseRiverData.get_bbox" class="md-nav__link">
    <span class="md-ellipsis">
      get_bbox
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseRiverData.get_erosion_sim_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_erosion_sim_data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseSimulationData" class="md-nav__link">
    <span class="md-ellipsis">
      BaseSimulationData
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BaseSimulationData">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseSimulationData.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseSimulationData.clip" class="md-nav__link">
    <span class="md-ellipsis">
      clip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.BaseSimulationData.read" class="md-nav__link">
    <span class="md-ellipsis">
      read
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile" class="md-nav__link">
    <span class="md-ellipsis">
      ConfigFile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ConfigFile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.root_dir" class="md-nav__link">
    <span class="md-ellipsis">
      root_dir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.version" class="md-nav__link">
    <span class="md-ellipsis">
      version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.config_file_callback_parser" class="md-nav__link">
    <span class="md-ellipsis">
      config_file_callback_parser
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_bank_search_distances" class="md-nav__link">
    <span class="md-ellipsis">
      get_bank_search_distances
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_bool" class="md-nav__link">
    <span class="md-ellipsis">
      get_bool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_float" class="md-nav__link">
    <span class="md-ellipsis">
      get_float
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_int" class="md-nav__link">
    <span class="md-ellipsis">
      get_int
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_output_dir" class="md-nav__link">
    <span class="md-ellipsis">
      get_output_dir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_parameter" class="md-nav__link">
    <span class="md-ellipsis">
      get_parameter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_plotting_flags" class="md-nav__link">
    <span class="md-ellipsis">
      get_plotting_flags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_range" class="md-nav__link">
    <span class="md-ellipsis">
      get_range
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_river_center_line" class="md-nav__link">
    <span class="md-ellipsis">
      get_river_center_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_search_lines" class="md-nav__link">
    <span class="md-ellipsis">
      get_search_lines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_sim_file" class="md-nav__link">
    <span class="md-ellipsis">
      get_sim_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_start_end_stations" class="md-nav__link">
    <span class="md-ellipsis">
      get_start_end_stations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.get_str" class="md-nav__link">
    <span class="md-ellipsis">
      get_str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.make_paths_absolute" class="md-nav__link">
    <span class="md-ellipsis">
      make_paths_absolute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.parameter_relative_to" class="md-nav__link">
    <span class="md-ellipsis">
      parameter_relative_to
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.process_parameter" class="md-nav__link">
    <span class="md-ellipsis">
      process_parameter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.read" class="md-nav__link">
    <span class="md-ellipsis">
      read
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.read_bank_lines" class="md-nav__link">
    <span class="md-ellipsis">
      read_bank_lines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.relative_to" class="md-nav__link">
    <span class="md-ellipsis">
      relative_to
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.resolve" class="md-nav__link">
    <span class="md-ellipsis">
      resolve
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.resolve_parameter" class="md-nav__link">
    <span class="md-ellipsis">
      resolve_parameter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.validate_parameter_value" class="md-nav__link">
    <span class="md-ellipsis">
      validate_parameter_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFile.write" class="md-nav__link">
    <span class="md-ellipsis">
      write
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.ConfigFileError" class="md-nav__link">
    <span class="md-ellipsis">
      ConfigFileError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry" class="md-nav__link">
    <span class="md-ellipsis">
      LineGeometry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LineGeometry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry.data" class="md-nav__link">
    <span class="md-ellipsis">
      data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry.add_data" class="md-nav__link">
    <span class="md-ellipsis">
      add_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry.intersect_with_line" class="md-nav__link">
    <span class="md-ellipsis">
      intersect_with_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry.mask" class="md-nav__link">
    <span class="md-ellipsis">
      mask
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.LineGeometry.to_file" class="md-nav__link">
    <span class="md-ellipsis">
      to_file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.SimulationFilesError" class="md-nav__link">
    <span class="md-ellipsis">
      SimulationFilesError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.absolute_path" class="md-nav__link">
    <span class="md-ellipsis">
      absolute_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.get_bbox" class="md-nav__link">
    <span class="md-ellipsis">
      get_bbox
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.get_filename" class="md-nav__link">
    <span class="md-ellipsis">
      get_filename
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.get_text" class="md-nav__link">
    <span class="md-ellipsis">
      get_text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.load_program_texts" class="md-nav__link">
    <span class="md-ellipsis">
      load_program_texts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.log_text" class="md-nav__link">
    <span class="md-ellipsis">
      log_text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.relative_path" class="md-nav__link">
    <span class="md-ellipsis">
      relative_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.write_csv" class="md-nav__link">
    <span class="md-ellipsis">
      write_csv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.write_km_eroded_volumes" class="md-nav__link">
    <span class="md-ellipsis">
      write_km_eroded_volumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dfastbe.io.write_shp" class="md-nav__link">
    <span class="md-ellipsis">
      write_shp
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/Deltares/D-FAST_Bank_Erosion/edit/master/docs/api/io.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/Deltares/D-FAST_Bank_Erosion/raw/master/docs/api/io.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="io"><a class="toclink" href="#io">IO</a><a class="headerlink" href="#io" title="Permanent link">#</a></h1>
<h2 id="io_1"><a class="toclink" href="#io_1">IO</a><a class="headerlink" href="#io_1" title="Permanent link">#</a></h2>


<div class="doc doc-object doc-module">



<h2 id="dfastbe.io" class="doc doc-heading"><a href="#dfastbe.io" class="toclink">
            <code>dfastbe.io</code>


</a><a href="#dfastbe.io" class="headerlink" title="Permanent link">#</a></h2>

    <div class="doc doc-contents first">

        <p>Copyright (C) 2020 Stichting Deltares.</p>
<p>This library is free software; you can redistribute it and/or
modify it under the terms of the GNU Lesser General Public
License as published by the Free Software Foundation version 2.1.</p>
<p>This library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public
License along with this library; if not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<p>contact: delft3d.support@deltares.nl
Stichting Deltares
P.O. Box 177
2600 MH Delft, The Netherlands</p>
<p>All indications and logos of, and references to, "Delft3D" and "Deltares"
are registered trademarks of Stichting Deltares, and remain the property of
Stichting Deltares. All rights reserved.</p>
<p>INFORMATION
This file is part of D-FAST Bank Erosion: https://github.com/Deltares/D-FAST_Bank_Erosion</p>








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="dfastbe.io.BaseRiverData" class="doc doc-heading"><a href="#dfastbe.io.BaseRiverData" class="toclink">
            <code>BaseRiverData</code>


</a><a href="#dfastbe.io.BaseRiverData" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">


        <p>River data class.</p>






              <details class="quote">
                <summary>Source code in <code>src/dfastbe/io.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BaseRiverData</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;River data class.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">:</span> <span class="n">ConfigFile</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;River Data initialization.</span>

<span class="sd">        Args:</span>
<span class="sd">            config_file : ConfigFile</span>
<span class="sd">                Configuration file with settings for the analysis.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile, BaseRiverData</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; river_data = BaseRiverData(config_file)</span>
<span class="sd">            No message found for read_chainage</span>
<span class="sd">            No message found for clip_chainage</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config_file</span> <span class="o">=</span> <span class="n">config_file</span>
        <span class="n">center_line</span> <span class="o">=</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_river_center_line</span><span class="p">()</span>
        <span class="n">bounds</span> <span class="o">=</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_start_end_stations</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_river_center_line</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="p">(</span><span class="n">center_line</span><span class="p">,</span> <span class="n">bounds</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="n">config_file</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_station_bounds</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_start_end_stations</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">river_center_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">LineGeometry</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;LineGeometry: the clipped river center line.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_river_center_line</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">station_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Tuple: the lower and upper bounds of the river center line.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_station_bounds</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_bbox</span><span class="p">(</span>
        <span class="n">coords</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Derive the bounding box from an array of coordinates.</span>

<span class="sd">        Args:</span>
<span class="sd">            coords (np.ndarray):</span>
<span class="sd">                An N x M array containing x- and y-coordinates as first two M entries</span>
<span class="sd">            buffer : float</span>
<span class="sd">                Buffer fraction surrounding the tight bounding box</span>

<span class="sd">        Returns:</span>
<span class="sd">            bbox (Tuple[float, float, float, float]):</span>
<span class="sd">                Tuple bounding box consisting of [min x, min y, max x, max y)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">get_bbox</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">buffer</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_erosion_sim_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_discharge_levels</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the erosion simulation data from the configuration file.&quot;&quot;&quot;</span>
        <span class="c1"># get pdischarges</span>
        <span class="n">sim_files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">p_discharge</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iq</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_discharge_levels</span><span class="p">):</span>
            <span class="n">iq_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">iq</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">sim_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="o">.</span><span class="n">get_sim_file</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="n">iq_str</span><span class="p">))</span>
            <span class="n">p_discharge</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="o">.</span><span class="n">get_float</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;PDischarge</span><span class="si">{</span><span class="n">iq_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">sim_files</span><span class="p">,</span> <span class="n">p_discharge</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="dfastbe.io.BaseRiverData.river_center_line" class="doc doc-heading"><a href="#dfastbe.io.BaseRiverData.river_center_line" class="toclink">
            <code class="highlight language-python"><span class="n">river_center_line</span><span class="p">:</span> <span class="n">LineGeometry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</a><a href="#dfastbe.io.BaseRiverData.river_center_line" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>LineGeometry: the clipped river center line.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="dfastbe.io.BaseRiverData.station_bounds" class="doc doc-heading"><a href="#dfastbe.io.BaseRiverData.station_bounds" class="toclink">
            <code class="highlight language-python"><span class="n">station_bounds</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</a><a href="#dfastbe.io.BaseRiverData.station_bounds" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Tuple: the lower and upper bounds of the river center line.</p>
    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.BaseRiverData.__init__" class="doc doc-heading"><a href="#dfastbe.io.BaseRiverData.__init__" class="toclink">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">config_file</span><span class="p">:</span> <span class="n">ConfigFile</span><span class="p">)</span></code>

</a><a href="#dfastbe.io.BaseRiverData.__init__" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>River Data initialization.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config_file</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ConfigFile
Configuration file with settings for the analysis.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span><span class="p">,</span> <span class="n">BaseRiverData</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">river_data</span> <span class="o">=</span> <span class="n">BaseRiverData</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_chainage</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">clip_chainage</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">:</span> <span class="n">ConfigFile</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;River Data initialization.</span>

<span class="sd">    Args:</span>
<span class="sd">        config_file : ConfigFile</span>
<span class="sd">            Configuration file with settings for the analysis.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile, BaseRiverData</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; river_data = BaseRiverData(config_file)</span>
<span class="sd">        No message found for read_chainage</span>
<span class="sd">        No message found for clip_chainage</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config_file</span> <span class="o">=</span> <span class="n">config_file</span>
    <span class="n">center_line</span> <span class="o">=</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_river_center_line</span><span class="p">()</span>
    <span class="n">bounds</span> <span class="o">=</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_start_end_stations</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_river_center_line</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="p">(</span><span class="n">center_line</span><span class="p">,</span> <span class="n">bounds</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="n">config_file</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_station_bounds</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_start_end_stations</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.BaseRiverData.get_bbox" class="doc doc-heading"><a href="#dfastbe.io.BaseRiverData.get_bbox" class="toclink">
            <code class="highlight language-python"><span class="n">get_bbox</span><span class="p">(</span><span class="n">coords</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</a><a href="#dfastbe.io.BaseRiverData.get_bbox" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Derive the bounding box from an array of coordinates.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>coords</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An N x M array containing x- and y-coordinates as first two M entries</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>buffer</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>float
Buffer fraction surrounding the tight bounding box</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bbox</code></td>            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="float">float</span>, <span title="float">float</span>, <span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tuple bounding box consisting of [min x, min y, max x, max y)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_bbox</span><span class="p">(</span>
    <span class="n">coords</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Derive the bounding box from an array of coordinates.</span>

<span class="sd">    Args:</span>
<span class="sd">        coords (np.ndarray):</span>
<span class="sd">            An N x M array containing x- and y-coordinates as first two M entries</span>
<span class="sd">        buffer : float</span>
<span class="sd">            Buffer fraction surrounding the tight bounding box</span>

<span class="sd">    Returns:</span>
<span class="sd">        bbox (Tuple[float, float, float, float]):</span>
<span class="sd">            Tuple bounding box consisting of [min x, min y, max x, max y)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_bbox</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">buffer</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.BaseRiverData.get_erosion_sim_data" class="doc doc-heading"><a href="#dfastbe.io.BaseRiverData.get_erosion_sim_data" class="toclink">
            <code class="highlight language-python"><span class="n">get_erosion_sim_data</span><span class="p">(</span><span class="n">num_discharge_levels</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span></code>

</a><a href="#dfastbe.io.BaseRiverData.get_erosion_sim_data" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get the erosion simulation data from the configuration file.</p>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_erosion_sim_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_discharge_levels</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the erosion simulation data from the configuration file.&quot;&quot;&quot;</span>
    <span class="c1"># get pdischarges</span>
    <span class="n">sim_files</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">p_discharge</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">iq</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_discharge_levels</span><span class="p">):</span>
        <span class="n">iq_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">iq</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">sim_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="o">.</span><span class="n">get_sim_file</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="n">iq_str</span><span class="p">))</span>
        <span class="n">p_discharge</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="o">.</span><span class="n">get_float</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;PDischarge</span><span class="si">{</span><span class="n">iq_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">sim_files</span><span class="p">,</span> <span class="n">p_discharge</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="dfastbe.io.BaseSimulationData" class="doc doc-heading"><a href="#dfastbe.io.BaseSimulationData" class="toclink">
            <code>BaseSimulationData</code>


</a><a href="#dfastbe.io.BaseSimulationData" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">


        <p>Class to hold simulation data.</p>
<p>This class contains the simulation data read from a UGRID netCDF file.
It includes methods to read the data from the file and clip the simulation
mesh to a specified area of interest.</p>






              <details class="quote">
                <summary>Source code in <code>src/dfastbe/io.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BaseSimulationData</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to hold simulation data.</span>

<span class="sd">    This class contains the simulation data read from a UGRID netCDF file.</span>
<span class="sd">    It includes methods to read the data from the file and clip the simulation</span>
<span class="sd">    mesh to a specified area of interest.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">x_node</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">y_node</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">n_nodes</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">face_node</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">masked_array</span><span class="p">,</span>
        <span class="n">bed_elevation_location</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">bed_elevation_values</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">water_level_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">water_depth_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">velocity_x_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">velocity_y_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">chezy_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">dry_wet_threshold</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the SimulationData object.</span>

<span class="sd">        Args:</span>
<span class="sd">        x_node (np.ndarray):</span>
<span class="sd">            X-coordinates of the nodes.</span>
<span class="sd">        y_node (np.ndarray):</span>
<span class="sd">            Y-coordinates of the nodes.</span>
<span class="sd">        n_nodes (np.ndarray):</span>
<span class="sd">            Number of nodes in each face.</span>
<span class="sd">        face_node (np.ma.masked_array):</span>
<span class="sd">            Face-node connectivity array.</span>
<span class="sd">        bed_elevation_location (np.ndarray):</span>
<span class="sd">            Determines whether the bed elevation is associated with nodes</span>
<span class="sd">            or faces in the computational mesh.</span>
<span class="sd">        bed_elevation_values (np.ndarray):</span>
<span class="sd">            Bed elevation values for each node in the simulation data.</span>
<span class="sd">        water_level_face (np.ndarray):</span>
<span class="sd">            Water levels at the faces.</span>
<span class="sd">        water_depth_face (np.ndarray):</span>
<span class="sd">            Water depths at the faces.</span>
<span class="sd">        velocity_x_face (np.ndarray):</span>
<span class="sd">            X-component of the velocity at the faces.</span>
<span class="sd">        velocity_y_face (np.ndarray):</span>
<span class="sd">            Y-component of the velocity at the faces.</span>
<span class="sd">        chezy_face (np.ndarray):</span>
<span class="sd">            Chezy roughness values at the faces.</span>
<span class="sd">        dry_wet_threshold (float):</span>
<span class="sd">            Threshold depth for detecting drying and flooding.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x_node</span> <span class="o">=</span> <span class="n">x_node</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y_node</span> <span class="o">=</span> <span class="n">y_node</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_nodes</span> <span class="o">=</span> <span class="n">n_nodes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face_node</span> <span class="o">=</span> <span class="n">face_node</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_location</span> <span class="o">=</span> <span class="n">bed_elevation_location</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_values</span> <span class="o">=</span> <span class="n">bed_elevation_values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">water_level_face</span> <span class="o">=</span> <span class="n">water_level_face</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">water_depth_face</span> <span class="o">=</span> <span class="n">water_depth_face</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocity_x_face</span> <span class="o">=</span> <span class="n">velocity_x_face</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocity_y_face</span> <span class="o">=</span> <span class="n">velocity_y_face</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chezy_face</span> <span class="o">=</span> <span class="n">chezy_face</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dry_wet_threshold</span> <span class="o">=</span> <span class="n">dry_wet_threshold</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">indent</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseSimulationData&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a default set of quantities from a UGRID netCDF file.</span>

<span class="sd">        Supported files are coming from D-Flow FM (or similar).</span>

<span class="sd">        Args:</span>
<span class="sd">            file_name (str):</span>
<span class="sd">                Name of the simulation output file to be read.</span>
<span class="sd">            indent (str):</span>
<span class="sd">                String to use for each line as indentation (default empty).</span>

<span class="sd">        Raises:</span>
<span class="sd">            SimulationFilesError</span>
<span class="sd">                If the file is not recognized as a D-Flow FM map-file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            BaseSimulationData: Dictionary containing the data read from the simulation output file.</span>
<span class="sd">            float: Threshold depth for detecting drying and flooding.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import BaseSimulationData</span>
<span class="sd">            &gt;&gt;&gt; sim_data = BaseSimulationData.read(&quot;tests/data/erosion/inputs/sim0075/SDS-j19_map.nc&quot;)</span>
<span class="sd">            No message found for read_grid</span>
<span class="sd">            No message found for read_bathymetry</span>
<span class="sd">            No message found for read_water_level</span>
<span class="sd">            No message found for read_water_depth</span>
<span class="sd">            No message found for read_velocity</span>
<span class="sd">            No message found for read_chezy</span>
<span class="sd">            No message found for read_drywet</span>
<span class="sd">            &gt;&gt;&gt; print(sim_data.x_node[0:3])</span>
<span class="sd">            [194949.796875 194966.515625 194982.8125  ]</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;map.nc&quot;</span><span class="p">):</span>
            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_grid&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
            <span class="n">x_node</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">&quot;node&quot;</span><span class="p">)</span>
            <span class="n">y_node</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">&quot;node&quot;</span><span class="p">)</span>
            <span class="n">f_nc</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;face_node_connectivity&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">f_nc</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">():</span>
                <span class="c1"># all faces have the same number of nodes</span>
                <span class="n">n_nodes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">f_nc</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span> <span class="o">*</span> <span class="n">f_nc</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># varying number of nodes</span>
                <span class="n">n_nodes</span> <span class="o">=</span> <span class="n">f_nc</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">f_nc</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">f_nc</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">f_nc</span><span class="o">.</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="n">face_node</span> <span class="o">=</span> <span class="n">f_nc</span>
            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_bathymetry&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
            <span class="n">bed_elevation_location</span> <span class="o">=</span> <span class="s2">&quot;node&quot;</span>
            <span class="n">bed_elevation_values</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;altitude&quot;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">&quot;node&quot;</span><span class="p">)</span>
            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_water_level&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
            <span class="n">water_level_face</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;Water level&quot;</span><span class="p">)</span>
            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_water_depth&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
            <span class="n">water_depth_face</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span>
                <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;sea_floor_depth_below_sea_surface&quot;</span><span class="p">),</span> <span class="mf">0.0</span>
            <span class="p">)</span>
            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_velocity&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
            <span class="n">velocity_x_face</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;sea_water_x_velocity&quot;</span><span class="p">)</span>
            <span class="n">velocity_y_face</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;sea_water_y_velocity&quot;</span><span class="p">)</span>
            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_chezy&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
            <span class="n">chezy_face</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;Chezy roughness&quot;</span><span class="p">)</span>

            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_drywet&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
            <span class="n">root_group</span> <span class="o">=</span> <span class="n">netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">file_source</span> <span class="o">=</span> <span class="n">root_group</span><span class="o">.</span><span class="n">converted_from</span>
                <span class="k">if</span> <span class="n">file_source</span> <span class="o">==</span> <span class="s2">&quot;SIMONA&quot;</span><span class="p">:</span>
                    <span class="n">dry_wet_threshold</span> <span class="o">=</span> <span class="mf">0.1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dry_wet_threshold</span> <span class="o">=</span> <span class="mf">0.01</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="n">dry_wet_threshold</span> <span class="o">=</span> <span class="mf">0.01</span>

        <span class="k">elif</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;SDS&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SimulationFilesError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;WAQUA output files not yet supported. Unable to process </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;trim&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SimulationFilesError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Delft3D map files not yet supported. Unable to process </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SimulationFilesError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to determine file type for </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">x_node</span><span class="o">=</span><span class="n">x_node</span><span class="p">,</span>
            <span class="n">y_node</span><span class="o">=</span><span class="n">y_node</span><span class="p">,</span>
            <span class="n">n_nodes</span><span class="o">=</span><span class="n">n_nodes</span><span class="p">,</span>
            <span class="n">face_node</span><span class="o">=</span><span class="n">face_node</span><span class="p">,</span>
            <span class="n">bed_elevation_location</span><span class="o">=</span><span class="n">bed_elevation_location</span><span class="p">,</span>
            <span class="n">bed_elevation_values</span><span class="o">=</span><span class="n">bed_elevation_values</span><span class="p">,</span>
            <span class="n">water_level_face</span><span class="o">=</span><span class="n">water_level_face</span><span class="p">,</span>
            <span class="n">water_depth_face</span><span class="o">=</span><span class="n">water_depth_face</span><span class="p">,</span>
            <span class="n">velocity_x_face</span><span class="o">=</span><span class="n">velocity_x_face</span><span class="p">,</span>
            <span class="n">velocity_y_face</span><span class="o">=</span><span class="n">velocity_y_face</span><span class="p">,</span>
            <span class="n">chezy_face</span><span class="o">=</span><span class="n">chezy_face</span><span class="p">,</span>
            <span class="n">dry_wet_threshold</span><span class="o">=</span><span class="n">dry_wet_threshold</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">river_center_line</span><span class="p">:</span> <span class="n">LineString</span><span class="p">,</span> <span class="n">max_distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clip the simulation mesh.</span>

<span class="sd">        Clipping data to the area of interest,</span>
<span class="sd">        that is sufficiently close to the reference line.</span>

<span class="sd">        Args:</span>
<span class="sd">            river_center_line (np.ndarray):</span>
<span class="sd">                Reference line.</span>
<span class="sd">            max_distance (float):</span>
<span class="sd">                Maximum distance between the reference line and a point in the area of</span>
<span class="sd">                interest defined based on the search lines for the banks and the search</span>
<span class="sd">                distance.</span>

<span class="sd">        Notes:</span>
<span class="sd">            The function uses the Shapely library to create a buffer around the river</span>
<span class="sd">            profile and checks if the nodes are within that buffer. If they are not,</span>
<span class="sd">            they are removed from the simulation data.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import BaseSimulationData</span>
<span class="sd">            &gt;&gt;&gt; sim_data = BaseSimulationData.read(&quot;tests/data/erosion/inputs/sim0075/SDS-j19_map.nc&quot;)</span>
<span class="sd">            No message found for read_grid</span>
<span class="sd">            No message found for read_bathymetry</span>
<span class="sd">            No message found for read_water_level</span>
<span class="sd">            No message found for read_water_depth</span>
<span class="sd">            No message found for read_velocity</span>
<span class="sd">            No message found for read_chezy</span>
<span class="sd">            No message found for read_drywet</span>
<span class="sd">            &gt;&gt;&gt; river_center_line = LineString([</span>
<span class="sd">            ...     [194949.796875, 361366.90625],</span>
<span class="sd">            ...     [194966.515625, 361399.46875],</span>
<span class="sd">            ...     [194982.8125, 361431.03125]</span>
<span class="sd">            ... ])</span>
<span class="sd">            &gt;&gt;&gt; max_distance = 10.0</span>
<span class="sd">            &gt;&gt;&gt; sim_data.clip(river_center_line, max_distance)</span>
<span class="sd">            &gt;&gt;&gt; print(sim_data.x_node)</span>
<span class="sd">            [194949.796875 194966.515625 194982.8125  ]</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xy_buffer</span> <span class="o">=</span> <span class="n">river_center_line</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="n">max_distance</span> <span class="o">+</span> <span class="n">max_distance</span><span class="p">)</span>
        <span class="n">bbox</span> <span class="o">=</span> <span class="n">xy_buffer</span><span class="o">.</span><span class="n">envelope</span><span class="o">.</span><span class="n">exterior</span>
        <span class="n">x_min</span> <span class="o">=</span> <span class="n">bbox</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">x_max</span> <span class="o">=</span> <span class="n">bbox</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">y_min</span> <span class="o">=</span> <span class="n">bbox</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">y_max</span> <span class="o">=</span> <span class="n">bbox</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">prepare</span><span class="p">(</span><span class="n">xy_buffer</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_node</span>
        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_node</span>
        <span class="n">nnodes</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">shape</span>
        <span class="n">keep</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">x_min</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">x_max</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">y_min</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">y_max</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">size</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">keep</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">xy_buffer</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">Point</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]))):</span>
                <span class="n">keep</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">fnc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">face_node</span>
        <span class="n">keep_face</span> <span class="o">=</span> <span class="n">keep</span><span class="p">[</span><span class="n">fnc</span><span class="p">]</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">renum</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nnodes</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">renum</span><span class="p">[</span><span class="n">keep</span><span class="p">]</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">keep</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">face_node</span> <span class="o">=</span> <span class="n">renum</span><span class="p">[</span><span class="n">fnc</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">x_node</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">keep</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y_node</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">keep</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_location</span> <span class="o">==</span> <span class="s2">&quot;node&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_values</span><span class="p">[</span><span class="n">keep</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_values</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">n_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_nodes</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">water_level_face</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">water_level_face</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">water_depth_face</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">water_depth_face</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocity_x_face</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity_x_face</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocity_y_face</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity_y_face</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chezy_face</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chezy_face</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.BaseSimulationData.__init__" class="doc doc-heading"><a href="#dfastbe.io.BaseSimulationData.__init__" class="toclink">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">x_node</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">y_node</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">n_nodes</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">face_node</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">masked_array</span><span class="p">,</span> <span class="n">bed_elevation_location</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">bed_elevation_values</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">water_level_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">water_depth_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">velocity_x_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">velocity_y_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">chezy_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">dry_wet_threshold</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span></code>

</a><a href="#dfastbe.io.BaseSimulationData.__init__" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Initialize the SimulationData object.</p>
        <p>x_node (np.ndarray):
    X-coordinates of the nodes.
y_node (np.ndarray):
    Y-coordinates of the nodes.
n_nodes (np.ndarray):
    Number of nodes in each face.
face_node (np.ma.masked_array):
    Face-node connectivity array.
bed_elevation_location (np.ndarray):
    Determines whether the bed elevation is associated with nodes
    or faces in the computational mesh.
bed_elevation_values (np.ndarray):
    Bed elevation values for each node in the simulation data.
water_level_face (np.ndarray):
    Water levels at the faces.
water_depth_face (np.ndarray):
    Water depths at the faces.
velocity_x_face (np.ndarray):
    X-component of the velocity at the faces.
velocity_y_face (np.ndarray):
    Y-component of the velocity at the faces.
chezy_face (np.ndarray):
    Chezy roughness values at the faces.
dry_wet_threshold (float):
    Threshold depth for detecting drying and flooding.</p>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">x_node</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">y_node</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">n_nodes</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">face_node</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">masked_array</span><span class="p">,</span>
    <span class="n">bed_elevation_location</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">bed_elevation_values</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">water_level_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">water_depth_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">velocity_x_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">velocity_y_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">chezy_face</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">dry_wet_threshold</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the SimulationData object.</span>

<span class="sd">    Args:</span>
<span class="sd">    x_node (np.ndarray):</span>
<span class="sd">        X-coordinates of the nodes.</span>
<span class="sd">    y_node (np.ndarray):</span>
<span class="sd">        Y-coordinates of the nodes.</span>
<span class="sd">    n_nodes (np.ndarray):</span>
<span class="sd">        Number of nodes in each face.</span>
<span class="sd">    face_node (np.ma.masked_array):</span>
<span class="sd">        Face-node connectivity array.</span>
<span class="sd">    bed_elevation_location (np.ndarray):</span>
<span class="sd">        Determines whether the bed elevation is associated with nodes</span>
<span class="sd">        or faces in the computational mesh.</span>
<span class="sd">    bed_elevation_values (np.ndarray):</span>
<span class="sd">        Bed elevation values for each node in the simulation data.</span>
<span class="sd">    water_level_face (np.ndarray):</span>
<span class="sd">        Water levels at the faces.</span>
<span class="sd">    water_depth_face (np.ndarray):</span>
<span class="sd">        Water depths at the faces.</span>
<span class="sd">    velocity_x_face (np.ndarray):</span>
<span class="sd">        X-component of the velocity at the faces.</span>
<span class="sd">    velocity_y_face (np.ndarray):</span>
<span class="sd">        Y-component of the velocity at the faces.</span>
<span class="sd">    chezy_face (np.ndarray):</span>
<span class="sd">        Chezy roughness values at the faces.</span>
<span class="sd">    dry_wet_threshold (float):</span>
<span class="sd">        Threshold depth for detecting drying and flooding.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">x_node</span> <span class="o">=</span> <span class="n">x_node</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">y_node</span> <span class="o">=</span> <span class="n">y_node</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_nodes</span> <span class="o">=</span> <span class="n">n_nodes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">face_node</span> <span class="o">=</span> <span class="n">face_node</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_location</span> <span class="o">=</span> <span class="n">bed_elevation_location</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_values</span> <span class="o">=</span> <span class="n">bed_elevation_values</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">water_level_face</span> <span class="o">=</span> <span class="n">water_level_face</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">water_depth_face</span> <span class="o">=</span> <span class="n">water_depth_face</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">velocity_x_face</span> <span class="o">=</span> <span class="n">velocity_x_face</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">velocity_y_face</span> <span class="o">=</span> <span class="n">velocity_y_face</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">chezy_face</span> <span class="o">=</span> <span class="n">chezy_face</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dry_wet_threshold</span> <span class="o">=</span> <span class="n">dry_wet_threshold</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.BaseSimulationData.clip" class="doc doc-heading"><a href="#dfastbe.io.BaseSimulationData.clip" class="toclink">
            <code class="highlight language-python"><span class="n">clip</span><span class="p">(</span><span class="n">river_center_line</span><span class="p">:</span> <span class="n">LineString</span><span class="p">,</span> <span class="n">max_distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span></code>

</a><a href="#dfastbe.io.BaseSimulationData.clip" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Clip the simulation mesh.</p>
<p>Clipping data to the area of interest,
that is sufficiently close to the reference line.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>river_center_line</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Reference line.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_distance</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum distance between the reference line and a point in the area of
interest defined based on the search lines for the banks and the search
distance.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>The function uses the Shapely library to create a buffer around the river
profile and checks if the nodes are within that buffer. If they are not,
they are removed from the simulation data.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseSimulationData</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sim_data</span> <span class="o">=</span> <span class="n">BaseSimulationData</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/inputs/sim0075/SDS-j19_map.nc&quot;</span><span class="p">)</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_grid</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_bathymetry</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_water_level</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_water_depth</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_velocity</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_chezy</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_drywet</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">river_center_line</span> <span class="o">=</span> <span class="n">LineString</span><span class="p">([</span>
<span class="o">...</span>     <span class="p">[</span><span class="mf">194949.796875</span><span class="p">,</span> <span class="mf">361366.90625</span><span class="p">],</span>
<span class="o">...</span>     <span class="p">[</span><span class="mf">194966.515625</span><span class="p">,</span> <span class="mf">361399.46875</span><span class="p">],</span>
<span class="o">...</span>     <span class="p">[</span><span class="mf">194982.8125</span><span class="p">,</span> <span class="mf">361431.03125</span><span class="p">]</span>
<span class="o">...</span> <span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">max_distance</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sim_data</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">river_center_line</span><span class="p">,</span> <span class="n">max_distance</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">sim_data</span><span class="o">.</span><span class="n">x_node</span><span class="p">)</span>
<span class="p">[</span><span class="mf">194949.796875</span> <span class="mf">194966.515625</span> <span class="mf">194982.8125</span>  <span class="p">]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">river_center_line</span><span class="p">:</span> <span class="n">LineString</span><span class="p">,</span> <span class="n">max_distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clip the simulation mesh.</span>

<span class="sd">    Clipping data to the area of interest,</span>
<span class="sd">    that is sufficiently close to the reference line.</span>

<span class="sd">    Args:</span>
<span class="sd">        river_center_line (np.ndarray):</span>
<span class="sd">            Reference line.</span>
<span class="sd">        max_distance (float):</span>
<span class="sd">            Maximum distance between the reference line and a point in the area of</span>
<span class="sd">            interest defined based on the search lines for the banks and the search</span>
<span class="sd">            distance.</span>

<span class="sd">    Notes:</span>
<span class="sd">        The function uses the Shapely library to create a buffer around the river</span>
<span class="sd">        profile and checks if the nodes are within that buffer. If they are not,</span>
<span class="sd">        they are removed from the simulation data.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import BaseSimulationData</span>
<span class="sd">        &gt;&gt;&gt; sim_data = BaseSimulationData.read(&quot;tests/data/erosion/inputs/sim0075/SDS-j19_map.nc&quot;)</span>
<span class="sd">        No message found for read_grid</span>
<span class="sd">        No message found for read_bathymetry</span>
<span class="sd">        No message found for read_water_level</span>
<span class="sd">        No message found for read_water_depth</span>
<span class="sd">        No message found for read_velocity</span>
<span class="sd">        No message found for read_chezy</span>
<span class="sd">        No message found for read_drywet</span>
<span class="sd">        &gt;&gt;&gt; river_center_line = LineString([</span>
<span class="sd">        ...     [194949.796875, 361366.90625],</span>
<span class="sd">        ...     [194966.515625, 361399.46875],</span>
<span class="sd">        ...     [194982.8125, 361431.03125]</span>
<span class="sd">        ... ])</span>
<span class="sd">        &gt;&gt;&gt; max_distance = 10.0</span>
<span class="sd">        &gt;&gt;&gt; sim_data.clip(river_center_line, max_distance)</span>
<span class="sd">        &gt;&gt;&gt; print(sim_data.x_node)</span>
<span class="sd">        [194949.796875 194966.515625 194982.8125  ]</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">xy_buffer</span> <span class="o">=</span> <span class="n">river_center_line</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="n">max_distance</span> <span class="o">+</span> <span class="n">max_distance</span><span class="p">)</span>
    <span class="n">bbox</span> <span class="o">=</span> <span class="n">xy_buffer</span><span class="o">.</span><span class="n">envelope</span><span class="o">.</span><span class="n">exterior</span>
    <span class="n">x_min</span> <span class="o">=</span> <span class="n">bbox</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">x_max</span> <span class="o">=</span> <span class="n">bbox</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">y_min</span> <span class="o">=</span> <span class="n">bbox</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">y_max</span> <span class="o">=</span> <span class="n">bbox</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">prepare</span><span class="p">(</span><span class="n">xy_buffer</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_node</span>
    <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_node</span>
    <span class="n">nnodes</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">keep</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">x_min</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">x_max</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">y_min</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">y_max</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">size</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">keep</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">xy_buffer</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">Point</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]))):</span>
            <span class="n">keep</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">fnc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">face_node</span>
    <span class="n">keep_face</span> <span class="o">=</span> <span class="n">keep</span><span class="p">[</span><span class="n">fnc</span><span class="p">]</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">renum</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nnodes</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">renum</span><span class="p">[</span><span class="n">keep</span><span class="p">]</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">keep</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">face_node</span> <span class="o">=</span> <span class="n">renum</span><span class="p">[</span><span class="n">fnc</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">x_node</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">keep</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">y_node</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">keep</span><span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_location</span> <span class="o">==</span> <span class="s2">&quot;node&quot;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_values</span><span class="p">[</span><span class="n">keep</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bed_elevation_values</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">n_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_nodes</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">water_level_face</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">water_level_face</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">water_depth_face</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">water_depth_face</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">velocity_x_face</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity_x_face</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">velocity_y_face</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity_y_face</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">chezy_face</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chezy_face</span><span class="p">[</span><span class="n">keep_face</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.BaseSimulationData.read" class="doc doc-heading"><a href="#dfastbe.io.BaseSimulationData.read" class="toclink">
            <code class="highlight language-python"><span class="n">read</span><span class="p">(</span><span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">indent</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSimulationData</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</a><a href="#dfastbe.io.BaseSimulationData.read" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Read a default set of quantities from a UGRID netCDF file.</p>
<p>Supported files are coming from D-Flow FM (or similar).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the simulation output file to be read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>indent</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String to use for each line as indentation (default empty).</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>BaseSimulationData</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseSimulationData (&lt;code&gt;dfastbe.io.BaseSimulationData&lt;/code&gt;)" href="#dfastbe.io.BaseSimulationData">BaseSimulationData</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing the data read from the simulation output file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseSimulationData (&lt;code&gt;dfastbe.io.BaseSimulationData&lt;/code&gt;)" href="#dfastbe.io.BaseSimulationData">BaseSimulationData</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold depth for detecting drying and flooding.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseSimulationData</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sim_data</span> <span class="o">=</span> <span class="n">BaseSimulationData</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/inputs/sim0075/SDS-j19_map.nc&quot;</span><span class="p">)</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_grid</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_bathymetry</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_water_level</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_water_depth</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_velocity</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_chezy</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">read_drywet</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">sim_data</span><span class="o">.</span><span class="n">x_node</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
<span class="p">[</span><span class="mf">194949.796875</span> <span class="mf">194966.515625</span> <span class="mf">194982.8125</span>  <span class="p">]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">indent</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseSimulationData&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Read a default set of quantities from a UGRID netCDF file.</span>

<span class="sd">    Supported files are coming from D-Flow FM (or similar).</span>

<span class="sd">    Args:</span>
<span class="sd">        file_name (str):</span>
<span class="sd">            Name of the simulation output file to be read.</span>
<span class="sd">        indent (str):</span>
<span class="sd">            String to use for each line as indentation (default empty).</span>

<span class="sd">    Raises:</span>
<span class="sd">        SimulationFilesError</span>
<span class="sd">            If the file is not recognized as a D-Flow FM map-file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        BaseSimulationData: Dictionary containing the data read from the simulation output file.</span>
<span class="sd">        float: Threshold depth for detecting drying and flooding.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import BaseSimulationData</span>
<span class="sd">        &gt;&gt;&gt; sim_data = BaseSimulationData.read(&quot;tests/data/erosion/inputs/sim0075/SDS-j19_map.nc&quot;)</span>
<span class="sd">        No message found for read_grid</span>
<span class="sd">        No message found for read_bathymetry</span>
<span class="sd">        No message found for read_water_level</span>
<span class="sd">        No message found for read_water_depth</span>
<span class="sd">        No message found for read_velocity</span>
<span class="sd">        No message found for read_chezy</span>
<span class="sd">        No message found for read_drywet</span>
<span class="sd">        &gt;&gt;&gt; print(sim_data.x_node[0:3])</span>
<span class="sd">        [194949.796875 194966.515625 194982.8125  ]</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>
    <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;map.nc&quot;</span><span class="p">):</span>
        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_grid&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="n">x_node</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">&quot;node&quot;</span><span class="p">)</span>
        <span class="n">y_node</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">&quot;node&quot;</span><span class="p">)</span>
        <span class="n">f_nc</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;face_node_connectivity&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">f_nc</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">():</span>
            <span class="c1"># all faces have the same number of nodes</span>
            <span class="n">n_nodes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">f_nc</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span> <span class="o">*</span> <span class="n">f_nc</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># varying number of nodes</span>
            <span class="n">n_nodes</span> <span class="o">=</span> <span class="n">f_nc</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">f_nc</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">f_nc</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">f_nc</span><span class="o">.</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">face_node</span> <span class="o">=</span> <span class="n">f_nc</span>
        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_bathymetry&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="n">bed_elevation_location</span> <span class="o">=</span> <span class="s2">&quot;node&quot;</span>
        <span class="n">bed_elevation_values</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;altitude&quot;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">&quot;node&quot;</span><span class="p">)</span>
        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_water_level&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="n">water_level_face</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;Water level&quot;</span><span class="p">)</span>
        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_water_depth&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="n">water_depth_face</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span>
            <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;sea_floor_depth_below_sea_surface&quot;</span><span class="p">),</span> <span class="mf">0.0</span>
        <span class="p">)</span>
        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_velocity&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="n">velocity_x_face</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;sea_water_x_velocity&quot;</span><span class="p">)</span>
        <span class="n">velocity_y_face</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;sea_water_y_velocity&quot;</span><span class="p">)</span>
        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_chezy&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="n">chezy_face</span> <span class="o">=</span> <span class="n">_read_fm_map</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;Chezy roughness&quot;</span><span class="p">)</span>

        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_drywet&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="n">root_group</span> <span class="o">=</span> <span class="n">netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">file_source</span> <span class="o">=</span> <span class="n">root_group</span><span class="o">.</span><span class="n">converted_from</span>
            <span class="k">if</span> <span class="n">file_source</span> <span class="o">==</span> <span class="s2">&quot;SIMONA&quot;</span><span class="p">:</span>
                <span class="n">dry_wet_threshold</span> <span class="o">=</span> <span class="mf">0.1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dry_wet_threshold</span> <span class="o">=</span> <span class="mf">0.01</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">dry_wet_threshold</span> <span class="o">=</span> <span class="mf">0.01</span>

    <span class="k">elif</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;SDS&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">SimulationFilesError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;WAQUA output files not yet supported. Unable to process </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;trim&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">SimulationFilesError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Delft3D map files not yet supported. Unable to process </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">SimulationFilesError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to determine file type for </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">x_node</span><span class="o">=</span><span class="n">x_node</span><span class="p">,</span>
        <span class="n">y_node</span><span class="o">=</span><span class="n">y_node</span><span class="p">,</span>
        <span class="n">n_nodes</span><span class="o">=</span><span class="n">n_nodes</span><span class="p">,</span>
        <span class="n">face_node</span><span class="o">=</span><span class="n">face_node</span><span class="p">,</span>
        <span class="n">bed_elevation_location</span><span class="o">=</span><span class="n">bed_elevation_location</span><span class="p">,</span>
        <span class="n">bed_elevation_values</span><span class="o">=</span><span class="n">bed_elevation_values</span><span class="p">,</span>
        <span class="n">water_level_face</span><span class="o">=</span><span class="n">water_level_face</span><span class="p">,</span>
        <span class="n">water_depth_face</span><span class="o">=</span><span class="n">water_depth_face</span><span class="p">,</span>
        <span class="n">velocity_x_face</span><span class="o">=</span><span class="n">velocity_x_face</span><span class="p">,</span>
        <span class="n">velocity_y_face</span><span class="o">=</span><span class="n">velocity_y_face</span><span class="p">,</span>
        <span class="n">chezy_face</span><span class="o">=</span><span class="n">chezy_face</span><span class="p">,</span>
        <span class="n">dry_wet_threshold</span><span class="o">=</span><span class="n">dry_wet_threshold</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="dfastbe.io.ConfigFile" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile" class="toclink">
            <code>ConfigFile</code>


</a><a href="#dfastbe.io.ConfigFile" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">


        <p>Class to read configuration files for D-FAST Bank Erosion.</p>
<p>This class provides methods to read, write, and manage configuration files
for the D-FAST Bank Erosion analysis. It also allows access to configuration
settings and supports upgrading older configuration formats.</p>






              <details class="quote">
                <summary>Source code in <code>src/dfastbe/io.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ConfigFile</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to read configuration files for D-FAST Bank Erosion.</span>

<span class="sd">    This class provides methods to read, write, and manage configuration files</span>
<span class="sd">    for the D-FAST Bank Erosion analysis. It also allows access to configuration</span>
<span class="sd">    settings and supports upgrading older configuration formats.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ConfigParser</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the ConfigFile object.</span>

<span class="sd">        Args:</span>
<span class="sd">            config (ConfigParser):</span>
<span class="sd">                Settings for the D-FAST Bank Erosion analysis.</span>
<span class="sd">            path (Path | str):</span>
<span class="sd">                Path to the configuration file.</span>

<span class="sd">        Examples:</span>
<span class="sd">            Reading a configuration file:</span>
<span class="sd">                ```python</span>
<span class="sd">                &gt;&gt;&gt; import tempfile</span>
<span class="sd">                &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">                &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">                &gt;&gt;&gt; print(config_file.config[&quot;General&quot;][&quot;Version&quot;])</span>
<span class="sd">                1.0</span>

<span class="sd">                ```</span>
<span class="sd">            Writing a configuration file:</span>
<span class="sd">                ```python</span>
<span class="sd">                &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">                &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">                &gt;&gt;&gt; with tempfile.TemporaryDirectory() as tmpdirname:</span>
<span class="sd">                ...     config_file.write(f&quot;{tmpdirname}/meuse_manual_out.cfg&quot;)</span>

<span class="sd">                ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="s2">&quot;EPSG:28992&quot;</span>
        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">root_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">parent</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_paths_absolute</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConfigParser</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;ConfigParser: Get the configuration settings.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span>

    <span class="nd">@config</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">ConfigParser</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;str: Get the version of the configuration file.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Version&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bool</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;DebugOutput&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">root_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Path: Get the root directory of the configuration file.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root_dir</span>

    <span class="nd">@root_dir</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">root_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root_dir</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ConfigFile&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a configParser object (configuration file).</span>

<span class="sd">        Reads the config file using the standard `configparser`. Falls back to a</span>
<span class="sd">        dedicated reader compatible with old waqbank files.</span>

<span class="sd">        Args:</span>
<span class="sd">            path (str | Path): Path to the configuration file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ConfigFile: Settings for the D-FAST Bank Erosion analysis.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileNotFoundError: If the configuration file does not exist.</span>
<span class="sd">            Exception: If there is an error reading the config file.</span>

<span class="sd">        Examples:</span>
<span class="sd">            Read a config file:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The Config-File: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2"> does not exist&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="p">(</span><span class="n">comment_prefixes</span><span class="o">=</span><span class="s2">&quot;%&quot;</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">configfile</span><span class="p">:</span>
                <span class="n">config</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">configfile</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ConfigparserError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error during reading the config file: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">config_file_callback_parser</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="c1"># if version != &quot;1.0&quot;:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_upgrade</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">config_file_callback_parser</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConfigParser</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse a configuration file as fallback to the read method.</span>

<span class="sd">        Args:</span>
<span class="sd">            path (str): Path to the configuration file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ConfigParser: Parsed configuration file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="p">()</span>
        <span class="n">config</span><span class="p">[</span><span class="s2">&quot;General&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">all_lines</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">all_lines</span><span class="p">:</span>
            <span class="n">perc</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;%&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">perc</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="p">[:</span><span class="n">perc</span><span class="p">]</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">config</span><span class="p">[</span><span class="s2">&quot;General&quot;</span><span class="p">][</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">config</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_upgrade</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">ConfigParser</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConfigParser</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Upgrade the configuration data structure to version 1.0 format.</span>

<span class="sd">        Args:</span>
<span class="sd">            config (ConfigParser): D-FAST Bank Erosion settings in 0.1 format.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ConfigParser: D-FAST Bank Erosion settings in 1.0 format.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; result = config_file._upgrade(config_file.config)</span>
<span class="sd">            &gt;&gt;&gt; isinstance(result, ConfigParser)</span>
<span class="sd">            True</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">version</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;General&quot;</span><span class="p">][</span><span class="s2">&quot;Version&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>

        <span class="k">if</span> <span class="n">version</span> <span class="o">==</span> <span class="s2">&quot;0.1&quot;</span><span class="p">:</span>
            <span class="n">config</span><span class="p">[</span><span class="s2">&quot;General&quot;</span><span class="p">][</span><span class="s2">&quot;Version&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1.0&quot;</span>

            <span class="n">config</span><span class="p">[</span><span class="s2">&quot;Detect&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Delft3Dfile&quot;</span><span class="p">,</span> <span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="s2">&quot;SimFile&quot;</span><span class="p">,</span> <span class="n">convert</span><span class="o">=</span><span class="n">_sim2nc</span>
            <span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;SDSfile&quot;</span><span class="p">,</span> <span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="s2">&quot;SimFile&quot;</span><span class="p">,</span> <span class="n">convert</span><span class="o">=</span><span class="n">_sim2nc</span>
            <span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;SimFile&quot;</span><span class="p">,</span> <span class="s2">&quot;Detect&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;NBank&quot;</span><span class="p">,</span> <span class="s2">&quot;Detect&quot;</span><span class="p">)</span>
            <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
            <span class="n">n_bank</span> <span class="o">=</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="s2">&quot;NBank&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">positive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_bank</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Line</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Detect&quot;</span>
                <span class="p">)</span>

            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;WaterDepth&quot;</span><span class="p">,</span> <span class="s2">&quot;Detect&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;DLines&quot;</span><span class="p">,</span> <span class="s2">&quot;Detect&quot;</span><span class="p">)</span>

            <span class="n">config</span><span class="p">[</span><span class="s2">&quot;Erosion&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;TErosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverAxis&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Fairway&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;RefLevel&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;OutputInterval&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span>
            <span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;OutputDir&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;BankNew&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;BankEq&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;EroVol&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;EroVolEqui&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span>
            <span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;NLevel&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
            <span class="n">n_level</span> <span class="o">=</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NLevel&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">positive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span>
                    <span class="s2">&quot;General&quot;</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;Delft3Dfile</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Erosion&quot;</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;SimFile</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="n">convert</span><span class="o">=</span><span class="n">_sim2nc</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span>
                    <span class="s2">&quot;General&quot;</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;SDSfile</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Erosion&quot;</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;SimFile</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="n">convert</span><span class="o">=</span><span class="n">_sim2nc</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;SimFile</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span>
                <span class="p">)</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;PDischarge</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span>
                <span class="p">)</span>

            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;ShipType&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;VShip&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;NShip&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;NWave&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Draught&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Wave0&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Wave1&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>

            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Classes&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;BankType&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;ProtectLevel&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;ProtectionLevel&quot;</span>
            <span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Slope&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Reed&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;VelFilter&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;ShipType</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span>
                <span class="p">)</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;VShip</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span>
                <span class="p">)</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;NShip</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span>
                <span class="p">)</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;NWave</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span>
                <span class="p">)</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Draught</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span>
                <span class="p">)</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Slope</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span>
                <span class="p">)</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Reed</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span>
                <span class="p">)</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">_move_parameter_location</span><span class="p">(</span>
                    <span class="n">config</span><span class="p">,</span> <span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;EroVol</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Erosion&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">config</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pretty print a configParser object (configuration file) to file.</span>

<span class="sd">        Pretty prints a `configparser` object to a file. Aligns the equal signs for</span>
<span class="sd">        all keyword/value pairs, adds a two-space indentation to all keyword lines,</span>
<span class="sd">        and adds an empty line before the start of a new block.</span>

<span class="sd">        Args:</span>
<span class="sd">            filename (str): Name of the configuration file to be written.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; import tempfile</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; with tempfile.TemporaryDirectory() as tmpdirname:</span>
<span class="sd">            ...     config_file.write(f&quot;{tmpdirname}/meuse_manual_out.cfg&quot;)</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">sections</span><span class="p">()</span>
        <span class="n">max_length</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">:</span>
            <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
            <span class="n">max_length</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">max_length</span><span class="p">,</span> <span class="o">*</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">option</span><span class="p">)</span> <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">options</span><span class="p">])</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">configfile</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">section</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sections</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">configfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">configfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">section</span><span class="si">}</span><span class="s2">]</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
                    <span class="n">configfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">option</span><span class="si">:</span><span class="s2">&lt;</span><span class="si">{</span><span class="n">max_length</span><span class="si">}}</span><span class="s2"> = </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">section</span><span class="p">][</span><span class="n">option</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">make_paths_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert all relative paths in the configuration to absolute paths.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Absolute path of the configuration file&#39;s root directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_dir</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_dir</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_str</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a string from a selected group and keyword in the analysis settings.</span>

<span class="sd">        Args:</span>
<span class="sd">            group (str): Name of the group from which to read.</span>
<span class="sd">            key (str): Name of the keyword from which to read.</span>
<span class="sd">            default (Optional[str]): Optional default value.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ConfigFileError: If the keyword isn&#39;t specified and no default value is given.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: value of the keyword as string.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; result = config_file.get_str(&quot;General&quot;, &quot;BankDir&quot;)</span>
<span class="sd">            &gt;&gt;&gt; expected = Path(&quot;tests/data/erosion/output/banklines&quot;).resolve()</span>
<span class="sd">            &gt;&gt;&gt; str(expected) == result</span>
<span class="sd">            True</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">default</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No value specified for required keyword </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in block </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">return</span> <span class="n">val</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_bool</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a boolean from a selected group and keyword in the analysis settings.</span>

<span class="sd">        Args:</span>
<span class="sd">            group (str): Name of the group from which to read.</span>
<span class="sd">            key (str): Name of the keyword from which to read.</span>
<span class="sd">            default (Optional[bool]): Optional default value.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ConfigFileError: If the keyword isn&#39;t specified and no default value is given.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: value of the keyword as boolean.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; config_file.get_bool(&quot;General&quot;, &quot;Plotting&quot;)</span>
<span class="sd">            True</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">str_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="n">val</span> <span class="o">=</span> <span class="p">(</span>
                <span class="p">(</span><span class="n">str_val</span> <span class="o">==</span> <span class="s2">&quot;yes&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="p">(</span><span class="n">str_val</span> <span class="o">==</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="p">(</span><span class="n">str_val</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="p">(</span><span class="n">str_val</span> <span class="o">==</span> <span class="s2">&quot;t&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="p">(</span><span class="n">str_val</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">default</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No boolean value specified for required keyword </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in block </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>

        <span class="k">return</span> <span class="n">val</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_float</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a floating point value from a selected group and keyword in the analysis settings.</span>

<span class="sd">        Args:</span>
<span class="sd">            group (str): Name of the group from which to read.</span>
<span class="sd">            key (str): Name of the keyword from which to read.</span>
<span class="sd">            default (Optional[float]): Optional default value.</span>
<span class="sd">            positive (bool): Flag specifying which floats are accepted.</span>
<span class="sd">                All floats are accepted (if False), or only positive floats (if True).</span>

<span class="sd">        Raises:</span>
<span class="sd">            ConfigFileError: If the keyword isn&#39;t specified and no default value is given.</span>
<span class="sd">            ConfigFileError: If a negative value is specified when a positive value is required.</span>


<span class="sd">        Returns:</span>
<span class="sd">            float: value of the keyword as float.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; config_file.get_float(&quot;General&quot;, &quot;ZoomStepKM&quot;)</span>
<span class="sd">            1.0</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">default</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No floating point value specified for required keyword </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in block </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">if</span> <span class="n">positive</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Value for </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in block </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2"> must be positive, not </span><span class="si">{</span><span class="n">val</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">val</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_int</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get an integer from a selected group and keyword in the analysis settings.</span>

<span class="sd">        Args:</span>
<span class="sd">            group (str): Name of the group from which to read.</span>
<span class="sd">            key (str): Name of the keyword from which to read.</span>
<span class="sd">            default (Optional[int]): Optional default value.</span>
<span class="sd">            positive (bool): Flag specifying which floats are accepted.</span>
<span class="sd">                All floats are accepted (if False), or only positive floats (if True).</span>

<span class="sd">        Raises:</span>
<span class="sd">            ConfigFileError: If the keyword isn&#39;t specified and no default value is given.</span>
<span class="sd">            ConfigFileError: If a negative or zero value is specified when a positive value is required.</span>


<span class="sd">        Returns:</span>
<span class="sd">            int: value of the keyword as int.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; config_file.get_int(&quot;Detect&quot;, &quot;NBank&quot;)</span>
<span class="sd">            2</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">default</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No integer value specified for required keyword </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in block </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">if</span> <span class="n">positive</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Value for </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in block </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2"> must be positive, not </span><span class="si">{</span><span class="n">val</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">val</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_sim_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">istr</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the name of the simulation file from the analysis settings.</span>

<span class="sd">        Args:</span>
<span class="sd">            group (str): Name of the group in which to search for the simulation file name.</span>
<span class="sd">            istr (str): Postfix for the simulation file name keyword;</span>
<span class="sd">                typically a string representation of the index.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Name of the simulation file (empty string if keywords are not found).</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; result = config_file.get_sim_file(&quot;Erosion&quot;, &quot;1&quot;)</span>
<span class="sd">            &gt;&gt;&gt; expected = Path(&quot;tests/data/erosion/inputs/sim0075/SDS-j19_map.nc&quot;).resolve()</span>
<span class="sd">            &gt;&gt;&gt; str(expected) == result</span>
<span class="sd">            True</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sim_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SimFile</span><span class="si">{</span><span class="n">istr</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sim_file</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_start_end_stations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the start and end station for the river.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[float, float]: start and end station.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; config_file.get_start_end_stations()</span>
<span class="sd">            (123.0, 128.0)</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_range</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Boundaries&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">stations</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_search_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">LineString</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the search lines for the bank lines from the analysis settings.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[np.ndarray]: List of arrays containing the x,y-coordinates of a bank search lines.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># read guiding bank line</span>
        <span class="n">n_bank</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="s2">&quot;NBank&quot;</span><span class="p">)</span>
        <span class="n">line</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_bank</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_bank</span><span class="p">):</span>
            <span class="n">bankfile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;Detect&quot;</span><span class="p">][</span><span class="sa">f</span><span class="s2">&quot;Line</span><span class="si">{</span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_search_line&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;nr&quot;</span><span class="p">:</span> <span class="n">b</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">bankfile</span><span class="p">})</span>
            <span class="n">line</span><span class="p">[</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">XYCModel</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">bankfile</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">line</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">read_bank_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bank_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the bank lines from the detection step.</span>

<span class="sd">        Args:</span>
<span class="sd">            bank_dir (str): Name of directory in which the bank lines files are located.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[np.ndarray]: List of arrays containing the x,y-coordinates of a bank lines.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bank_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;BankFile&quot;</span><span class="p">,</span> <span class="s2">&quot;bankfile&quot;</span><span class="p">)</span>
        <span class="n">bankfile</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">bank_dir</span><span class="p">)</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bank_name</span><span class="si">}</span><span class="s2">.shp&quot;</span>
        <span class="k">if</span> <span class="n">bankfile</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_banklines&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">bankfile</span><span class="p">)})</span>
            <span class="k">return</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">bankfile</span><span class="p">)</span>

        <span class="n">bankfile</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">bank_dir</span><span class="p">)</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bank_name</span><span class="si">}</span><span class="s2">_#.xyc&quot;</span>
        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_banklines&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">bankfile</span><span class="p">)})</span>
        <span class="n">bankline_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">xyc_file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">bank_dir</span><span class="p">)</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bank_name</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">.xyc&quot;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">xyc_file</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
                <span class="k">break</span>

            <span class="n">xy_bank</span> <span class="o">=</span> <span class="n">XYCModel</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">xyc_file</span><span class="p">)</span>
            <span class="n">bankline_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">xy_bank</span><span class="p">))</span>
            <span class="n">b</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">bankline_series</span> <span class="o">=</span> <span class="n">GeoSeries</span><span class="p">(</span><span class="n">bankline_list</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span>
        <span class="n">banklines</span> <span class="o">=</span> <span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">geometry</span><span class="o">=</span><span class="n">bankline_series</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">banklines</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_parameter</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">num_stations_per_bank</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
        <span class="n">default</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">ext</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">valid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">onefile</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a parameter field from a selected group and keyword in the analysis settings.</span>

<span class="sd">        Args:</span>
<span class="sd">            group (str):</span>
<span class="sd">                Name of the group from which to read.</span>
<span class="sd">            key (str):</span>
<span class="sd">                Name of the keyword from which to read.</span>
<span class="sd">            num_stations_per_bank (List[int]):</span>
<span class="sd">                Number of stations (points) For each bank (bank chainage locations).</span>
<span class="sd">            default (Optional[float | List[np.ndarray]]):</span>
<span class="sd">                Optional default value or default parameter field; default None.</span>
<span class="sd">            ext (str):</span>
<span class="sd">                File name extension; default empty string.</span>
<span class="sd">            positive (bool):</span>
<span class="sd">                Flag specifying which boolean values are accepted.</span>
<span class="sd">                All values are accepted (if False), or only strictly positive values (if True); default False.</span>
<span class="sd">            valid (Optional[List[float]]):</span>
<span class="sd">                Optional list of valid values; default None.</span>
<span class="sd">            onefile (bool):</span>
<span class="sd">                Flag indicating whether parameters are read from one file.</span>
<span class="sd">                One file should be used for all bank lines (True) or one file per bank line (False; default).</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                If a parameter isn&#39;t provided in the configuration, but no default value provided either.</span>
<span class="sd">                If the value is negative while a positive value is required (positive = True).</span>
<span class="sd">                If the value doesn&#39;t match one of the value values (valid is not None).</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[np.ndarray]: Parameter field</span>
<span class="sd">                For each bank a parameter value per bank point (bank chainage location).</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; bank_km = [np.array([0, 1, 2]), np.array([3, 4, 5, 6, 7])]</span>
<span class="sd">            &gt;&gt;&gt; num_stations_per_bank = [len(bank) for bank in bank_km]</span>
<span class="sd">            &gt;&gt;&gt; config_file.get_parameter(&quot;General&quot;, &quot;ZoomStepKM&quot;, num_stations_per_bank)</span>
<span class="sd">            [array([1., 1., 1.]), array([1., 1., 1., 1., 1.])]</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>
            <span class="n">use_default</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;No value specified for required keyword &quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&quot; in block &quot;</span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s1">&quot;.&#39;</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
            <span class="n">use_default</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_parameter</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
            <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
            <span class="n">num_stations_per_bank</span><span class="o">=</span><span class="n">num_stations_per_bank</span><span class="p">,</span>
            <span class="n">use_default</span><span class="o">=</span><span class="n">use_default</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">ext</span><span class="o">=</span><span class="n">ext</span><span class="p">,</span>
            <span class="n">positive</span><span class="o">=</span><span class="n">positive</span><span class="p">,</span>
            <span class="n">valid</span><span class="o">=</span><span class="n">valid</span><span class="p">,</span>
            <span class="n">onefile</span><span class="o">=</span><span class="n">onefile</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">validate_parameter_value</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">valid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate a parameter value against constraints.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (float): The parameter value to validate.</span>
<span class="sd">            key (str): Name of the parameter for error messages.</span>
<span class="sd">            positive (bool): Flag specifying whether all values are accepted (if False),</span>
<span class="sd">                or only positive values (if True); default False.</span>
<span class="sd">            valid (Optional[List[float]]): Optional list of valid values; default None.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the value doesn&#39;t meet the constraints.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The validated parameter value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">positive</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;Value of &quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&quot; should be positive, not </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1">.&#39;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">valid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">valid</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;Value of &quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&quot; should be in </span><span class="si">{</span><span class="n">valid</span><span class="si">}</span><span class="s1">, not </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1">.&#39;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">process_parameter</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">num_stations_per_bank</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
        <span class="n">use_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">ext</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">valid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">onefile</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Process a parameter value into arrays for each bank.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (str | float): The parameter value or filename.</span>
<span class="sd">            key (str): Name of the parameter for error messages.</span>
<span class="sd">            num_stations_per_bank (List[int]): Number of stations for each bank.</span>
<span class="sd">            use_default (bool): Flag indicating whether to use the default value; default False.</span>
<span class="sd">            default: Default value to use if use_default is True; default None.</span>
<span class="sd">            ext (str): File name extension; default empty string.</span>
<span class="sd">            positive (bool): Flag specifying whether all values are accepted (if False),</span>
<span class="sd">                or only positive values (if True); default False.</span>
<span class="sd">            valid (Optional[List[float]]): Optional list of valid values; default None.</span>
<span class="sd">            onefile (bool): Flag indicating whether parameters are read from one file.</span>
<span class="sd">                One file should be used for all bank lines (True) or one file per bank line (False; default).</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[np.ndarray]: Parameter values for each bank.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># if val is value then use that value globally</span>
        <span class="n">num_banks</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">num_stations_per_bank</span><span class="p">)</span>
        <span class="n">parameter_values</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">num_banks</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">use_default</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">default</span>
                <span class="n">real_val</span> <span class="o">=</span> <span class="n">default</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">real_val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">validate_parameter_value</span><span class="p">(</span><span class="n">real_val</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">positive</span><span class="p">,</span> <span class="n">valid</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">ib</span><span class="p">,</span> <span class="n">num_stations</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">num_stations_per_bank</span><span class="p">):</span>
                <span class="n">parameter_values</span><span class="p">[</span><span class="n">ib</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_stations</span><span class="p">)</span> <span class="o">+</span> <span class="n">real_val</span>

        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">onefile</span><span class="p">:</span>
                <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_param&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;param&quot;</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">})</span>
                <span class="n">km_thr</span><span class="p">,</span> <span class="n">val</span> <span class="o">=</span> <span class="n">_get_stations</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">positive</span><span class="p">,</span> <span class="n">valid</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">ib</span><span class="p">,</span> <span class="n">num_stations</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">num_stations_per_bank</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">onefile</span><span class="p">:</span>
                    <span class="n">filename_i</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">ib</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}{</span><span class="n">ext</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="n">log_text</span><span class="p">(</span>
                        <span class="s2">&quot;read_param_one_bank&quot;</span><span class="p">,</span>
                        <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;param&quot;</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">:</span> <span class="n">ib</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">filename_i</span><span class="p">},</span>
                    <span class="p">)</span>
                    <span class="n">km_thr</span><span class="p">,</span> <span class="n">val</span> <span class="o">=</span> <span class="n">_get_stations</span><span class="p">(</span><span class="n">filename_i</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">positive</span><span class="p">,</span> <span class="n">valid</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">km_thr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">parameter_values</span><span class="p">[</span><span class="n">ib</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_stations</span><span class="p">)</span> <span class="o">+</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_stations</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>

                    <span class="k">for</span> <span class="n">thr</span> <span class="ow">in</span> <span class="n">km_thr</span><span class="p">:</span>
                        <span class="n">idx</span><span class="p">[</span><span class="n">num_stations</span> <span class="o">&gt;=</span> <span class="n">thr</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">parameter_values</span><span class="p">[</span><span class="n">ib</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
                <span class="c1"># print(&quot;Min/max of data: &quot;, parfield[ib].min(), parfield[ib].max())</span>

        <span class="k">return</span> <span class="n">parameter_values</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_bank_search_distances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_search_lines</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the search distance per bank line from the analysis settings.</span>

<span class="sd">        Args:</span>
<span class="sd">            num_search_lines (int): Number of bank search lines.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[float]: Array of length nbank containing the search distance value per bank line (default value: 50).</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; config_file.get_bank_search_distances(2)</span>
<span class="sd">            [50.0, 50.0]</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">d_lines_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;Detect&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DLines&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">d_lines_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">d_lines</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">]</span> <span class="o">*</span> <span class="n">num_search_lines</span>
        <span class="k">elif</span> <span class="n">d_lines_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;[&quot;</span> <span class="ow">and</span> <span class="n">d_lines_key</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;]&quot;</span><span class="p">:</span>
            <span class="n">d_lines_split</span> <span class="o">=</span> <span class="n">d_lines_key</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
            <span class="n">d_lines</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">d_lines_split</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">([</span><span class="n">d</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">d_lines</span><span class="p">]):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;keyword DLINES should contain positive values in the configuration file.&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">d_lines</span><span class="p">)</span> <span class="o">!=</span> <span class="n">num_search_lines</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                    <span class="s2">&quot;keyword DLINES should contain NBANK values in the configuration file.&quot;</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">d_lines</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a start and end value from a selected group and keyword in the analysis settings.</span>

<span class="sd">        Args:</span>
<span class="sd">            group (str): Name of the group from which to read.</span>
<span class="sd">            key (str): Name of the keyword from which to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[float,float]: Lower and upper limit of the range.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; config_file.get_range(&quot;General&quot;, &quot;Boundaries&quot;)</span>
<span class="sd">            (123.0, 128.0)</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">str_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">obrack</span> <span class="o">=</span> <span class="n">str_val</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">)</span>
            <span class="n">cbrack</span> <span class="o">=</span> <span class="n">str_val</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">obrack</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">cbrack</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">str_val</span> <span class="o">=</span> <span class="n">str_val</span><span class="p">[</span><span class="n">obrack</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">cbrack</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">val_list</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">fstr</span><span class="p">)</span> <span class="k">for</span> <span class="n">fstr</span> <span class="ow">in</span> <span class="n">str_val</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)]</span>
            <span class="k">if</span> <span class="n">val_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">val_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="p">(</span><span class="n">val_list</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">val_list</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="p">(</span><span class="n">val_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">val_list</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;Invalid range specification &quot;</span><span class="si">{</span><span class="n">str_val</span><span class="si">}</span><span class="s1">&quot; for required keyword &quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&quot; in block &quot;</span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s1">&quot;.&#39;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">return</span> <span class="n">val</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_river_center_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">LineString</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the river center line from the xyc file as a linestring.</span>

<span class="sd">        Returns:</span>
<span class="sd">            LineString: Chainage line.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># get the chainage file</span>
        <span class="n">river_center_line_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverKM&quot;</span><span class="p">)</span>
        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_chainage&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">river_center_line_file</span><span class="p">})</span>
        <span class="n">river_center_line</span> <span class="o">=</span> <span class="n">XYCModel</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">river_center_line_file</span><span class="p">,</span> <span class="n">num_columns</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

        <span class="c1"># make sure that chainage is increasing with node index</span>
        <span class="k">if</span> <span class="n">river_center_line</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">river_center_line</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]:</span>
            <span class="n">river_center_line</span> <span class="o">=</span> <span class="n">LineString</span><span class="p">(</span><span class="n">river_center_line</span><span class="o">.</span><span class="n">coords</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">river_center_line</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">resolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a configuration object to contain absolute paths (for editing).</span>

<span class="sd">        Args:</span>
<span class="sd">            rootdir (str): The path to be used as base for the absolute paths.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; config_file.resolve(&quot;tests/data/erosion&quot;)</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;General&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverKM&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;BankDir&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;FigureDir&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;Detect&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="s2">&quot;SimFile&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">line_i</span> <span class="o">=</span> <span class="s2">&quot;Line&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">line_i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;Detect&quot;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="n">line_i</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">break</span>

        <span class="k">if</span> <span class="s2">&quot;Erosion&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverAxis&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Fairway&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;OutputDir&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;ShipType&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;VShip&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NShip&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NWave&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Draught&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Wave0&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Wave1&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;BankType&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;ProtectionLevel&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Slope&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Reed&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

            <span class="n">n_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NLevel&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;SimFile</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;ShipType</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;VShip</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;NShip</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;NWave</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Draught</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Slope</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Reed</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">relative_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a configuration object to contain relative paths (for saving).</span>

<span class="sd">        Args:</span>
<span class="sd">            rootdir (str): The path to be used as base for the relative paths.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; config_file.relative_to(&quot;testing/data/erosion&quot;)</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;General&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverKM&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;BankDir&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;FigureDir&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;Detect&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="s2">&quot;SimFile&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">line_i</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Line</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="k">if</span> <span class="n">line_i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;Detect&quot;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="n">line_i</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">break</span>

        <span class="k">if</span> <span class="s2">&quot;Erosion&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverAxis&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Fairway&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;OutputDir&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;ShipType&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;VShip&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NShip&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NWave&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Draught&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Wave0&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Wave1&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;BankType&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;ProtectionLevel&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Slope&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Reed&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

            <span class="n">n_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NLevel&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;SimFile</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;ShipType</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;VShip</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;NShip</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;NWave</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Draught</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Slope</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Reed</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">resolve_parameter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a parameter value to contain an absolute path.</span>

<span class="sd">        Determine whether the string represents a number.</span>
<span class="sd">        If not, try to convert to an absolute path.</span>

<span class="sd">        Args:</span>
<span class="sd">            group (str): Name of the group in the configuration.</span>
<span class="sd">            key (str): Name of the key in the configuration.</span>
<span class="sd">            rootdir (str): The path to be used as base for the absolute paths.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; config_file.resolve_parameter(&quot;General&quot;, &quot;RiverKM&quot;, &quot;tests/data/erosion&quot;)</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">]:</span>
            <span class="n">val_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">float</span><span class="p">(</span><span class="n">val_str</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">absolute_path</span><span class="p">(</span><span class="n">rootdir</span><span class="p">,</span> <span class="n">val_str</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">parameter_relative_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a parameter value to contain a relative path.</span>

<span class="sd">        Determine whether the string represents a number.</span>
<span class="sd">        If not, try to convert to a relative path.</span>

<span class="sd">        Args:</span>
<span class="sd">            group (str): Name of the group in the configuration.</span>
<span class="sd">            key (str): Name of the key in the configuration.</span>
<span class="sd">            rootdir (str): The path to be used as base for the relative paths.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; config_file.parameter_relative_to(&quot;General&quot;, &quot;RiverKM&quot;, &quot;tests/data/erosion&quot;)</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">]:</span>
            <span class="n">val_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="nb">float</span><span class="p">(</span><span class="n">val_str</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">relative_path</span><span class="p">(</span><span class="n">rootdir</span><span class="p">,</span> <span class="n">val_str</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_plotting_flags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the plotting flags from the configuration file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            data (Dict[str, bool]):</span>
<span class="sd">                Dictionary containing the plotting flags.</span>
<span class="sd">                save_plot (bool): Flag indicating whether to save the plot.</span>
<span class="sd">                save_plot_zoomed (bool): Flag indicating whether to save the zoomed plot.</span>
<span class="sd">                zoom_km_step (float): Step size for zooming in on the plot.</span>
<span class="sd">                close_plot (bool): Flag indicating whether to close the plot.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">plot_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bool</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Plotting&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">plot_data</span><span class="p">:</span>
            <span class="n">save_plot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bool</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;SavePlots&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="n">save_plot_zoomed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bool</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;SaveZoomPlots&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="n">zoom_km_step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_float</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;ZoomStepKM&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">zoom_km_step</span> <span class="o">&lt;</span> <span class="mf">0.01</span><span class="p">:</span>
                <span class="n">save_plot_zoomed</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">close_plot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bool</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;ClosePlots&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">save_plot</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">save_plot_zoomed</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">close_plot</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;plot_data&quot;</span><span class="p">:</span> <span class="n">plot_data</span><span class="p">,</span>
            <span class="s2">&quot;save_plot&quot;</span><span class="p">:</span> <span class="n">save_plot</span><span class="p">,</span>
            <span class="s2">&quot;save_plot_zoomed&quot;</span><span class="p">:</span> <span class="n">save_plot_zoomed</span><span class="p">,</span>
            <span class="s2">&quot;zoom_km_step&quot;</span><span class="p">:</span> <span class="n">zoom_km_step</span><span class="p">,</span>
            <span class="s2">&quot;close_plot&quot;</span><span class="p">:</span> <span class="n">close_plot</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="c1"># as appropriate, check output dir for figures and file format</span>
        <span class="k">if</span> <span class="n">save_plot</span><span class="p">:</span>
            <span class="n">fig_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;FigureDir&quot;</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="n">root_dir</span><span class="p">)</span> <span class="o">/</span> <span class="s2">&quot;figure&quot;</span><span class="p">)</span>
            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;figure_dir&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="n">fig_dir</span><span class="p">})</span>
            <span class="n">path_fig_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">fig_dir</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">path_fig_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
                <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;overwrite_dir&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="n">fig_dir</span><span class="p">})</span>
            <span class="n">path_fig_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">plot_ext</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;FigureExt&quot;</span><span class="p">,</span> <span class="s2">&quot;.png&quot;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span> <span class="o">|</span> <span class="p">{</span>
                <span class="s2">&quot;fig_dir&quot;</span><span class="p">:</span> <span class="n">fig_dir</span><span class="p">,</span>
                <span class="s2">&quot;plot_ext&quot;</span><span class="p">:</span> <span class="n">plot_ext</span><span class="p">,</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="n">data</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_output_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the output directory for the analysis.</span>

<span class="sd">        Args:</span>
<span class="sd">            option (str):</span>
<span class="sd">                Option for which to get the output directory. &quot;banklines&quot; for bank lines, else the erosion output</span>
<span class="sd">                directory will be returned.</span>
<span class="sd">        Returns:</span>
<span class="sd">            output_dir (Path):</span>
<span class="sd">                Path to the output directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s2">&quot;banklines&quot;</span><span class="p">:</span>
            <span class="n">output_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;BankDir&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">output_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;OutputDir&quot;</span><span class="p">)</span>

        <span class="n">output_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>
        <span class="n">log_text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">option</span><span class="si">}</span><span class="s2">_out&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="n">output_dir</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">output_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;overwrite_dir&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="n">output_dir</span><span class="p">})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">output_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">output_dir</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="dfastbe.io.ConfigFile.config" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.config" class="toclink">
            <code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">ConfigParser</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</a><a href="#dfastbe.io.ConfigFile.config" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>ConfigParser: Get the configuration settings.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="dfastbe.io.ConfigFile.root_dir" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.root_dir" class="toclink">
            <code class="highlight language-python"><span class="n">root_dir</span><span class="p">:</span> <span class="n">Path</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</a><a href="#dfastbe.io.ConfigFile.root_dir" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Path: Get the root directory of the configuration file.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="dfastbe.io.ConfigFile.version" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.version" class="toclink">
            <code class="highlight language-python"><span class="n">version</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</a><a href="#dfastbe.io.ConfigFile.version" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>str: Get the version of the configuration file.</p>
    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.__init__" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.__init__" class="toclink">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">ConfigParser</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

</a><a href="#dfastbe.io.ConfigFile.__init__" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Initialize the ConfigFile object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td>
                  <code><span title="configparser.ConfigParser">ConfigParser</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Settings for the D-FAST Bank Erosion analysis.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="pathlib.Path">Path</span> | <span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the configuration file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Reading a configuration file:
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">config_file</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;General&quot;</span><span class="p">][</span><span class="s2">&quot;Version&quot;</span><span class="p">])</span>
<span class="mf">1.0</span>
</code></pre></div>
Writing a configuration file:
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">tmpdirname</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">config_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tmpdirname</span><span class="si">}</span><span class="s2">/meuse_manual_out.cfg&quot;</span><span class="p">)</span>
</code></pre></div></p>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ConfigParser</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the ConfigFile object.</span>

<span class="sd">    Args:</span>
<span class="sd">        config (ConfigParser):</span>
<span class="sd">            Settings for the D-FAST Bank Erosion analysis.</span>
<span class="sd">        path (Path | str):</span>
<span class="sd">            Path to the configuration file.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Reading a configuration file:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; import tempfile</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; print(config_file.config[&quot;General&quot;][&quot;Version&quot;])</span>
<span class="sd">            1.0</span>

<span class="sd">            ```</span>
<span class="sd">        Writing a configuration file:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">            &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">            &gt;&gt;&gt; with tempfile.TemporaryDirectory() as tmpdirname:</span>
<span class="sd">            ...     config_file.write(f&quot;{tmpdirname}/meuse_manual_out.cfg&quot;)</span>

<span class="sd">            ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">config</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="s2">&quot;EPSG:28992&quot;</span>
    <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">make_paths_absolute</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.config_file_callback_parser" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.config_file_callback_parser" class="toclink">
            <code class="highlight language-python"><span class="n">config_file_callback_parser</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConfigParser</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</a><a href="#dfastbe.io.ConfigFile.config_file_callback_parser" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Parse a configuration file as fallback to the read method.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the configuration file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>ConfigParser</code></td>            <td>
                  <code><span title="configparser.ConfigParser">ConfigParser</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Parsed configuration file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">config_file_callback_parser</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConfigParser</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse a configuration file as fallback to the read method.</span>

<span class="sd">    Args:</span>
<span class="sd">        path (str): Path to the configuration file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ConfigParser: Parsed configuration file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="p">()</span>
    <span class="n">config</span><span class="p">[</span><span class="s2">&quot;General&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">all_lines</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">all_lines</span><span class="p">:</span>
        <span class="n">perc</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;%&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">perc</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="p">[:</span><span class="n">perc</span><span class="p">]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">config</span><span class="p">[</span><span class="s2">&quot;General&quot;</span><span class="p">][</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">config</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_bank_search_distances" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_bank_search_distances" class="toclink">
            <code class="highlight language-python"><span class="n">get_bank_search_distances</span><span class="p">(</span><span class="n">num_search_lines</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_bank_search_distances" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get the search distance per bank line from the analysis settings.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>num_search_lines</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of bank search lines.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[float]: Array of length nbank containing the search distance value per bank line (default value: 50).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_bank_search_distances</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mf">50.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_bank_search_distances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_search_lines</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the search distance per bank line from the analysis settings.</span>

<span class="sd">    Args:</span>
<span class="sd">        num_search_lines (int): Number of bank search lines.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[float]: Array of length nbank containing the search distance value per bank line (default value: 50).</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; config_file.get_bank_search_distances(2)</span>
<span class="sd">        [50.0, 50.0]</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">d_lines_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;Detect&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DLines&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">d_lines_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">d_lines</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">]</span> <span class="o">*</span> <span class="n">num_search_lines</span>
    <span class="k">elif</span> <span class="n">d_lines_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;[&quot;</span> <span class="ow">and</span> <span class="n">d_lines_key</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;]&quot;</span><span class="p">:</span>
        <span class="n">d_lines_split</span> <span class="o">=</span> <span class="n">d_lines_key</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
        <span class="n">d_lines</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">d_lines_split</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">([</span><span class="n">d</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">d_lines</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;keyword DLINES should contain positive values in the configuration file.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">d_lines</span><span class="p">)</span> <span class="o">!=</span> <span class="n">num_search_lines</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                <span class="s2">&quot;keyword DLINES should contain NBANK values in the configuration file.&quot;</span>
            <span class="p">)</span>
    <span class="k">return</span> <span class="n">d_lines</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_bool" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_bool" class="toclink">
            <code class="highlight language-python"><span class="n">get_bool</span><span class="p">(</span><span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_bool" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get a boolean from a selected group and keyword in the analysis settings.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the group from which to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the keyword from which to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional default value.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ConfigFileError (&lt;code&gt;dfastbe.io.ConfigFileError&lt;/code&gt;)" href="#dfastbe.io.ConfigFileError">ConfigFileError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the keyword isn't specified and no default value is given.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>value of the keyword as boolean.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_bool</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Plotting&quot;</span><span class="p">)</span>
<span class="kc">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_bool</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a boolean from a selected group and keyword in the analysis settings.</span>

<span class="sd">    Args:</span>
<span class="sd">        group (str): Name of the group from which to read.</span>
<span class="sd">        key (str): Name of the keyword from which to read.</span>
<span class="sd">        default (Optional[bool]): Optional default value.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConfigFileError: If the keyword isn&#39;t specified and no default value is given.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: value of the keyword as boolean.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; config_file.get_bool(&quot;General&quot;, &quot;Plotting&quot;)</span>
<span class="sd">        True</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">str_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">val</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">(</span><span class="n">str_val</span> <span class="o">==</span> <span class="s2">&quot;yes&quot;</span><span class="p">)</span>
            <span class="ow">or</span> <span class="p">(</span><span class="n">str_val</span> <span class="o">==</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>
            <span class="ow">or</span> <span class="p">(</span><span class="n">str_val</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span><span class="p">)</span>
            <span class="ow">or</span> <span class="p">(</span><span class="n">str_val</span> <span class="o">==</span> <span class="s2">&quot;t&quot;</span><span class="p">)</span>
            <span class="ow">or</span> <span class="p">(</span><span class="n">str_val</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">default</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No boolean value specified for required keyword </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in block </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>

    <span class="k">return</span> <span class="n">val</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_float" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_float" class="toclink">
            <code class="highlight language-python"><span class="n">get_float</span><span class="p">(</span><span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_float" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get a floating point value from a selected group and keyword in the analysis settings.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the group from which to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the keyword from which to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional default value.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>positive</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag specifying which floats are accepted.
All floats are accepted (if False), or only positive floats (if True).</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ConfigFileError (&lt;code&gt;dfastbe.io.ConfigFileError&lt;/code&gt;)" href="#dfastbe.io.ConfigFileError">ConfigFileError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the keyword isn't specified and no default value is given.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ConfigFileError (&lt;code&gt;dfastbe.io.ConfigFileError&lt;/code&gt;)" href="#dfastbe.io.ConfigFileError">ConfigFileError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If a negative value is specified when a positive value is required.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>value of the keyword as float.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_float</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;ZoomStepKM&quot;</span><span class="p">)</span>
<span class="mf">1.0</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_float</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a floating point value from a selected group and keyword in the analysis settings.</span>

<span class="sd">    Args:</span>
<span class="sd">        group (str): Name of the group from which to read.</span>
<span class="sd">        key (str): Name of the keyword from which to read.</span>
<span class="sd">        default (Optional[float]): Optional default value.</span>
<span class="sd">        positive (bool): Flag specifying which floats are accepted.</span>
<span class="sd">            All floats are accepted (if False), or only positive floats (if True).</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConfigFileError: If the keyword isn&#39;t specified and no default value is given.</span>
<span class="sd">        ConfigFileError: If a negative value is specified when a positive value is required.</span>


<span class="sd">    Returns:</span>
<span class="sd">        float: value of the keyword as float.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; config_file.get_float(&quot;General&quot;, &quot;ZoomStepKM&quot;)</span>
<span class="sd">        1.0</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">])</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">default</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No floating point value specified for required keyword </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in block </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
    <span class="k">if</span> <span class="n">positive</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="mf">0.0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Value for </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in block </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2"> must be positive, not </span><span class="si">{</span><span class="n">val</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">val</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_int" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_int" class="toclink">
            <code class="highlight language-python"><span class="n">get_int</span><span class="p">(</span><span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_int" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get an integer from a selected group and keyword in the analysis settings.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the group from which to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the keyword from which to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional default value.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>positive</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag specifying which floats are accepted.
All floats are accepted (if False), or only positive floats (if True).</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ConfigFileError (&lt;code&gt;dfastbe.io.ConfigFileError&lt;/code&gt;)" href="#dfastbe.io.ConfigFileError">ConfigFileError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the keyword isn't specified and no default value is given.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ConfigFileError (&lt;code&gt;dfastbe.io.ConfigFileError&lt;/code&gt;)" href="#dfastbe.io.ConfigFileError">ConfigFileError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If a negative or zero value is specified when a positive value is required.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>value of the keyword as int.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="s2">&quot;NBank&quot;</span><span class="p">)</span>
<span class="mi">2</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_int</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get an integer from a selected group and keyword in the analysis settings.</span>

<span class="sd">    Args:</span>
<span class="sd">        group (str): Name of the group from which to read.</span>
<span class="sd">        key (str): Name of the keyword from which to read.</span>
<span class="sd">        default (Optional[int]): Optional default value.</span>
<span class="sd">        positive (bool): Flag specifying which floats are accepted.</span>
<span class="sd">            All floats are accepted (if False), or only positive floats (if True).</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConfigFileError: If the keyword isn&#39;t specified and no default value is given.</span>
<span class="sd">        ConfigFileError: If a negative or zero value is specified when a positive value is required.</span>


<span class="sd">    Returns:</span>
<span class="sd">        int: value of the keyword as int.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; config_file.get_int(&quot;Detect&quot;, &quot;NBank&quot;)</span>
<span class="sd">        2</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">val</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">])</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">default</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No integer value specified for required keyword </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in block </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
    <span class="k">if</span> <span class="n">positive</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Value for </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in block </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2"> must be positive, not </span><span class="si">{</span><span class="n">val</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">val</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_output_dir" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_output_dir" class="toclink">
            <code class="highlight language-python"><span class="n">get_output_dir</span><span class="p">(</span><span class="n">option</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_output_dir" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get the output directory for the analysis.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>option</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Option for which to get the output directory. "banklines" for bank lines, else the erosion output
directory will be returned.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    output_dir (Path):
        Path to the output directory.</p>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_output_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the output directory for the analysis.</span>

<span class="sd">    Args:</span>
<span class="sd">        option (str):</span>
<span class="sd">            Option for which to get the output directory. &quot;banklines&quot; for bank lines, else the erosion output</span>
<span class="sd">            directory will be returned.</span>
<span class="sd">    Returns:</span>
<span class="sd">        output_dir (Path):</span>
<span class="sd">            Path to the output directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s2">&quot;banklines&quot;</span><span class="p">:</span>
        <span class="n">output_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;BankDir&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">output_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;OutputDir&quot;</span><span class="p">)</span>

    <span class="n">output_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>
    <span class="n">log_text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">option</span><span class="si">}</span><span class="s2">_out&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="n">output_dir</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">output_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;overwrite_dir&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="n">output_dir</span><span class="p">})</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">output_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">output_dir</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_parameter" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_parameter" class="toclink">
            <code class="highlight language-python"><span class="n">get_parameter</span><span class="p">(</span><span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">num_stations_per_bank</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">default</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ext</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">valid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">onefile</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_parameter" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get a parameter field from a selected group and keyword in the analysis settings.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the group from which to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the keyword from which to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>num_stations_per_bank</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of stations (points) For each bank (bank chainage locations).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="float">float</span> | <span title="typing.List">List</span>[<span title="numpy.ndarray">ndarray</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional default value or default parameter field; default None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ext</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File name extension; default empty string.</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>positive</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag specifying which boolean values are accepted.
All values are accepted (if False), or only strictly positive values (if True); default False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>valid</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional list of valid values; default None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>onefile</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag indicating whether parameters are read from one file.
One file should be used for all bank lines (True) or one file per bank line (False; default).</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If a parameter isn't provided in the configuration, but no default value provided either.
If the value is negative while a positive value is required (positive = True).
If the value doesn't match one of the value values (valid is not None).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="numpy.ndarray">ndarray</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[np.ndarray]: Parameter field
For each bank a parameter value per bank point (bank chainage location).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">bank_km</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">num_stations_per_bank</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">bank</span><span class="p">)</span> <span class="k">for</span> <span class="n">bank</span> <span class="ow">in</span> <span class="n">bank_km</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_parameter</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;ZoomStepKM&quot;</span><span class="p">,</span> <span class="n">num_stations_per_bank</span><span class="p">)</span>
<span class="p">[</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]),</span> <span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">])]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_parameter</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">num_stations_per_bank</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ext</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">valid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">onefile</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a parameter field from a selected group and keyword in the analysis settings.</span>

<span class="sd">    Args:</span>
<span class="sd">        group (str):</span>
<span class="sd">            Name of the group from which to read.</span>
<span class="sd">        key (str):</span>
<span class="sd">            Name of the keyword from which to read.</span>
<span class="sd">        num_stations_per_bank (List[int]):</span>
<span class="sd">            Number of stations (points) For each bank (bank chainage locations).</span>
<span class="sd">        default (Optional[float | List[np.ndarray]]):</span>
<span class="sd">            Optional default value or default parameter field; default None.</span>
<span class="sd">        ext (str):</span>
<span class="sd">            File name extension; default empty string.</span>
<span class="sd">        positive (bool):</span>
<span class="sd">            Flag specifying which boolean values are accepted.</span>
<span class="sd">            All values are accepted (if False), or only strictly positive values (if True); default False.</span>
<span class="sd">        valid (Optional[List[float]]):</span>
<span class="sd">            Optional list of valid values; default None.</span>
<span class="sd">        onefile (bool):</span>
<span class="sd">            Flag indicating whether parameters are read from one file.</span>
<span class="sd">            One file should be used for all bank lines (True) or one file per bank line (False; default).</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception:</span>
<span class="sd">            If a parameter isn&#39;t provided in the configuration, but no default value provided either.</span>
<span class="sd">            If the value is negative while a positive value is required (positive = True).</span>
<span class="sd">            If the value doesn&#39;t match one of the value values (valid is not None).</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[np.ndarray]: Parameter field</span>
<span class="sd">            For each bank a parameter value per bank point (bank chainage location).</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; bank_km = [np.array([0, 1, 2]), np.array([3, 4, 5, 6, 7])]</span>
<span class="sd">        &gt;&gt;&gt; num_stations_per_bank = [len(bank) for bank in bank_km]</span>
<span class="sd">        &gt;&gt;&gt; config_file.get_parameter(&quot;General&quot;, &quot;ZoomStepKM&quot;, num_stations_per_bank)</span>
<span class="sd">        [array([1., 1., 1.]), array([1., 1., 1., 1., 1.])]</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>
        <span class="n">use_default</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;No value specified for required keyword &quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&quot; in block &quot;</span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s1">&quot;.&#39;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="n">use_default</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_parameter</span><span class="p">(</span>
        <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
        <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
        <span class="n">num_stations_per_bank</span><span class="o">=</span><span class="n">num_stations_per_bank</span><span class="p">,</span>
        <span class="n">use_default</span><span class="o">=</span><span class="n">use_default</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
        <span class="n">ext</span><span class="o">=</span><span class="n">ext</span><span class="p">,</span>
        <span class="n">positive</span><span class="o">=</span><span class="n">positive</span><span class="p">,</span>
        <span class="n">valid</span><span class="o">=</span><span class="n">valid</span><span class="p">,</span>
        <span class="n">onefile</span><span class="o">=</span><span class="n">onefile</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_plotting_flags" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_plotting_flags" class="toclink">
            <code class="highlight language-python"><span class="n">get_plotting_flags</span><span class="p">(</span><span class="n">root_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_plotting_flags" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get the plotting flags from the configuration file.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>data</code></td>            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="bool">bool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing the plotting flags.
save_plot (bool): Flag indicating whether to save the plot.
save_plot_zoomed (bool): Flag indicating whether to save the zoomed plot.
zoom_km_step (float): Step size for zooming in on the plot.
close_plot (bool): Flag indicating whether to close the plot.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_plotting_flags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the plotting flags from the configuration file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        data (Dict[str, bool]):</span>
<span class="sd">            Dictionary containing the plotting flags.</span>
<span class="sd">            save_plot (bool): Flag indicating whether to save the plot.</span>
<span class="sd">            save_plot_zoomed (bool): Flag indicating whether to save the zoomed plot.</span>
<span class="sd">            zoom_km_step (float): Step size for zooming in on the plot.</span>
<span class="sd">            close_plot (bool): Flag indicating whether to close the plot.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plot_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bool</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Plotting&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">plot_data</span><span class="p">:</span>
        <span class="n">save_plot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bool</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;SavePlots&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">save_plot_zoomed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bool</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;SaveZoomPlots&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">zoom_km_step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_float</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;ZoomStepKM&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">zoom_km_step</span> <span class="o">&lt;</span> <span class="mf">0.01</span><span class="p">:</span>
            <span class="n">save_plot_zoomed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">close_plot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bool</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;ClosePlots&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">save_plot</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">save_plot_zoomed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">close_plot</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;plot_data&quot;</span><span class="p">:</span> <span class="n">plot_data</span><span class="p">,</span>
        <span class="s2">&quot;save_plot&quot;</span><span class="p">:</span> <span class="n">save_plot</span><span class="p">,</span>
        <span class="s2">&quot;save_plot_zoomed&quot;</span><span class="p">:</span> <span class="n">save_plot_zoomed</span><span class="p">,</span>
        <span class="s2">&quot;zoom_km_step&quot;</span><span class="p">:</span> <span class="n">zoom_km_step</span><span class="p">,</span>
        <span class="s2">&quot;close_plot&quot;</span><span class="p">:</span> <span class="n">close_plot</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># as appropriate, check output dir for figures and file format</span>
    <span class="k">if</span> <span class="n">save_plot</span><span class="p">:</span>
        <span class="n">fig_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;FigureDir&quot;</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="n">root_dir</span><span class="p">)</span> <span class="o">/</span> <span class="s2">&quot;figure&quot;</span><span class="p">)</span>
        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;figure_dir&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="n">fig_dir</span><span class="p">})</span>
        <span class="n">path_fig_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">fig_dir</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">path_fig_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;overwrite_dir&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="n">fig_dir</span><span class="p">})</span>
        <span class="n">path_fig_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">plot_ext</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;FigureExt&quot;</span><span class="p">,</span> <span class="s2">&quot;.png&quot;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span> <span class="o">|</span> <span class="p">{</span>
            <span class="s2">&quot;fig_dir&quot;</span><span class="p">:</span> <span class="n">fig_dir</span><span class="p">,</span>
            <span class="s2">&quot;plot_ext&quot;</span><span class="p">:</span> <span class="n">plot_ext</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_range" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_range" class="toclink">
            <code class="highlight language-python"><span class="n">get_range</span><span class="p">(</span><span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_range" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get a start and end value from a selected group and keyword in the analysis settings.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the group from which to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the keyword from which to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tuple[float,float]: Lower and upper limit of the range.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_range</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Boundaries&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="mf">123.0</span><span class="p">,</span> <span class="mf">128.0</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a start and end value from a selected group and keyword in the analysis settings.</span>

<span class="sd">    Args:</span>
<span class="sd">        group (str): Name of the group from which to read.</span>
<span class="sd">        key (str): Name of the keyword from which to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[float,float]: Lower and upper limit of the range.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; config_file.get_range(&quot;General&quot;, &quot;Boundaries&quot;)</span>
<span class="sd">        (123.0, 128.0)</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">str_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">obrack</span> <span class="o">=</span> <span class="n">str_val</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">)</span>
        <span class="n">cbrack</span> <span class="o">=</span> <span class="n">str_val</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">obrack</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">cbrack</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">str_val</span> <span class="o">=</span> <span class="n">str_val</span><span class="p">[</span><span class="n">obrack</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">cbrack</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
        <span class="n">val_list</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">fstr</span><span class="p">)</span> <span class="k">for</span> <span class="n">fstr</span> <span class="ow">in</span> <span class="n">str_val</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">val_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">val_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="p">(</span><span class="n">val_list</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">val_list</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="p">(</span><span class="n">val_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">val_list</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;Invalid range specification &quot;</span><span class="si">{</span><span class="n">str_val</span><span class="si">}</span><span class="s1">&quot; for required keyword &quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&quot; in block &quot;</span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s1">&quot;.&#39;</span>
        <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
    <span class="k">return</span> <span class="n">val</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_river_center_line" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_river_center_line" class="toclink">
            <code class="highlight language-python"><span class="n">get_river_center_line</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">LineString</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_river_center_line" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get the river center line from the xyc file as a linestring.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>LineString</code></td>            <td>
                  <code><span title="shapely.geometry.LineString">LineString</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Chainage line.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_river_center_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">LineString</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the river center line from the xyc file as a linestring.</span>

<span class="sd">    Returns:</span>
<span class="sd">        LineString: Chainage line.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># get the chainage file</span>
    <span class="n">river_center_line_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverKM&quot;</span><span class="p">)</span>
    <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_chainage&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">river_center_line_file</span><span class="p">})</span>
    <span class="n">river_center_line</span> <span class="o">=</span> <span class="n">XYCModel</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">river_center_line_file</span><span class="p">,</span> <span class="n">num_columns</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

    <span class="c1"># make sure that chainage is increasing with node index</span>
    <span class="k">if</span> <span class="n">river_center_line</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">river_center_line</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]:</span>
        <span class="n">river_center_line</span> <span class="o">=</span> <span class="n">LineString</span><span class="p">(</span><span class="n">river_center_line</span><span class="o">.</span><span class="n">coords</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">river_center_line</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_search_lines" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_search_lines" class="toclink">
            <code class="highlight language-python"><span class="n">get_search_lines</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">LineString</span><span class="p">]</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_search_lines" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get the search lines for the bank lines from the analysis settings.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="shapely.geometry.LineString">LineString</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[np.ndarray]: List of arrays containing the x,y-coordinates of a bank search lines.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_search_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">LineString</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the search lines for the bank lines from the analysis settings.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[np.ndarray]: List of arrays containing the x,y-coordinates of a bank search lines.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># read guiding bank line</span>
    <span class="n">n_bank</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="s2">&quot;NBank&quot;</span><span class="p">)</span>
    <span class="n">line</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_bank</span>
    <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_bank</span><span class="p">):</span>
        <span class="n">bankfile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;Detect&quot;</span><span class="p">][</span><span class="sa">f</span><span class="s2">&quot;Line</span><span class="si">{</span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_search_line&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;nr&quot;</span><span class="p">:</span> <span class="n">b</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">bankfile</span><span class="p">})</span>
        <span class="n">line</span><span class="p">[</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">XYCModel</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">bankfile</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">line</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_sim_file" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_sim_file" class="toclink">
            <code class="highlight language-python"><span class="n">get_sim_file</span><span class="p">(</span><span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">istr</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_sim_file" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get the name of the simulation file from the analysis settings.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the group in which to search for the simulation file name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>istr</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Postfix for the simulation file name keyword;
typically a string representation of the index.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the simulation file (empty string if keywords are not found).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_sim_file</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">expected</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/inputs/sim0075/SDS-j19_map.nc&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">str</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span> <span class="o">==</span> <span class="n">result</span>
<span class="kc">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_sim_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">istr</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the name of the simulation file from the analysis settings.</span>

<span class="sd">    Args:</span>
<span class="sd">        group (str): Name of the group in which to search for the simulation file name.</span>
<span class="sd">        istr (str): Postfix for the simulation file name keyword;</span>
<span class="sd">            typically a string representation of the index.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Name of the simulation file (empty string if keywords are not found).</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; result = config_file.get_sim_file(&quot;Erosion&quot;, &quot;1&quot;)</span>
<span class="sd">        &gt;&gt;&gt; expected = Path(&quot;tests/data/erosion/inputs/sim0075/SDS-j19_map.nc&quot;).resolve()</span>
<span class="sd">        &gt;&gt;&gt; str(expected) == result</span>
<span class="sd">        True</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sim_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SimFile</span><span class="si">{</span><span class="n">istr</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sim_file</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_start_end_stations" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_start_end_stations" class="toclink">
            <code class="highlight language-python"><span class="n">get_start_end_stations</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_start_end_stations" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get the start and end station for the river.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tuple[float, float]: start and end station.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_start_end_stations</span><span class="p">()</span>
<span class="p">(</span><span class="mf">123.0</span><span class="p">,</span> <span class="mf">128.0</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_start_end_stations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the start and end station for the river.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[float, float]: start and end station.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; config_file.get_start_end_stations()</span>
<span class="sd">        (123.0, 128.0)</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">stations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_range</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;Boundaries&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">stations</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.get_str" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.get_str" class="toclink">
            <code class="highlight language-python"><span class="n">get_str</span><span class="p">(</span><span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</a><a href="#dfastbe.io.ConfigFile.get_str" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get a string from a selected group and keyword in the analysis settings.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the group from which to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the keyword from which to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional default value.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ConfigFileError (&lt;code&gt;dfastbe.io.ConfigFileError&lt;/code&gt;)" href="#dfastbe.io.ConfigFileError">ConfigFileError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the keyword isn't specified and no default value is given.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>value of the keyword as string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">config_file</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;BankDir&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">expected</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/output/banklines&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">str</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span> <span class="o">==</span> <span class="n">result</span>
<span class="kc">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_str</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a string from a selected group and keyword in the analysis settings.</span>

<span class="sd">    Args:</span>
<span class="sd">        group (str): Name of the group from which to read.</span>
<span class="sd">        key (str): Name of the keyword from which to read.</span>
<span class="sd">        default (Optional[str]): Optional default value.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ConfigFileError: If the keyword isn&#39;t specified and no default value is given.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: value of the keyword as string.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; result = config_file.get_str(&quot;General&quot;, &quot;BankDir&quot;)</span>
<span class="sd">        &gt;&gt;&gt; expected = Path(&quot;tests/data/erosion/output/banklines&quot;).resolve()</span>
<span class="sd">        &gt;&gt;&gt; str(expected) == result</span>
<span class="sd">        True</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">default</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ConfigFileError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No value specified for required keyword </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in block </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
    <span class="k">return</span> <span class="n">val</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.make_paths_absolute" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.make_paths_absolute" class="toclink">
            <code class="highlight language-python"><span class="n">make_paths_absolute</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</a><a href="#dfastbe.io.ConfigFile.make_paths_absolute" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Convert all relative paths in the configuration to absolute paths.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Absolute path of the configuration file's root directory.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">make_paths_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert all relative paths in the configuration to absolute paths.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Absolute path of the configuration file&#39;s root directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_dir</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_dir</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.parameter_relative_to" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.parameter_relative_to" class="toclink">
            <code class="highlight language-python"><span class="n">parameter_relative_to</span><span class="p">(</span><span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span></code>

</a><a href="#dfastbe.io.ConfigFile.parameter_relative_to" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Convert a parameter value to contain a relative path.</p>
<p>Determine whether the string represents a number.
If not, try to convert to a relative path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the group in the configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the key in the configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>rootdir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to be used as base for the relative paths.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverKM&quot;</span><span class="p">,</span> <span class="s2">&quot;tests/data/erosion&quot;</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">parameter_relative_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a parameter value to contain a relative path.</span>

<span class="sd">    Determine whether the string represents a number.</span>
<span class="sd">    If not, try to convert to a relative path.</span>

<span class="sd">    Args:</span>
<span class="sd">        group (str): Name of the group in the configuration.</span>
<span class="sd">        key (str): Name of the key in the configuration.</span>
<span class="sd">        rootdir (str): The path to be used as base for the relative paths.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; config_file.parameter_relative_to(&quot;General&quot;, &quot;RiverKM&quot;, &quot;tests/data/erosion&quot;)</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">]:</span>
        <span class="n">val_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="nb">float</span><span class="p">(</span><span class="n">val_str</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">relative_path</span><span class="p">(</span><span class="n">rootdir</span><span class="p">,</span> <span class="n">val_str</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.process_parameter" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.process_parameter" class="toclink">
            <code class="highlight language-python"><span class="n">process_parameter</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">float</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">num_stations_per_bank</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">use_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">valid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">onefile</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span></code>

</a><a href="#dfastbe.io.ConfigFile.process_parameter" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Process a parameter value into arrays for each bank.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="str">str</span> | <span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parameter value or filename.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the parameter for error messages.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>num_stations_per_bank</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of stations for each bank.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>use_default</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag indicating whether to use the default value; default False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Default value to use if use_default is True; default None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ext</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File name extension; default empty string.</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>positive</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag specifying whether all values are accepted (if False),
or only positive values (if True); default False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>valid</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional list of valid values; default None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>onefile</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag indicating whether parameters are read from one file.
One file should be used for all bank lines (True) or one file per bank line (False; default).</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="numpy.ndarray">ndarray</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[np.ndarray]: Parameter values for each bank.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">process_parameter</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">num_stations_per_bank</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
    <span class="n">use_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">ext</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">valid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">onefile</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Process a parameter value into arrays for each bank.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (str | float): The parameter value or filename.</span>
<span class="sd">        key (str): Name of the parameter for error messages.</span>
<span class="sd">        num_stations_per_bank (List[int]): Number of stations for each bank.</span>
<span class="sd">        use_default (bool): Flag indicating whether to use the default value; default False.</span>
<span class="sd">        default: Default value to use if use_default is True; default None.</span>
<span class="sd">        ext (str): File name extension; default empty string.</span>
<span class="sd">        positive (bool): Flag specifying whether all values are accepted (if False),</span>
<span class="sd">            or only positive values (if True); default False.</span>
<span class="sd">        valid (Optional[List[float]]): Optional list of valid values; default None.</span>
<span class="sd">        onefile (bool): Flag indicating whether parameters are read from one file.</span>
<span class="sd">            One file should be used for all bank lines (True) or one file per bank line (False; default).</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[np.ndarray]: Parameter values for each bank.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># if val is value then use that value globally</span>
    <span class="n">num_banks</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">num_stations_per_bank</span><span class="p">)</span>
    <span class="n">parameter_values</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">num_banks</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">use_default</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">default</span>
            <span class="n">real_val</span> <span class="o">=</span> <span class="n">default</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">real_val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">validate_parameter_value</span><span class="p">(</span><span class="n">real_val</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">positive</span><span class="p">,</span> <span class="n">valid</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ib</span><span class="p">,</span> <span class="n">num_stations</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">num_stations_per_bank</span><span class="p">):</span>
            <span class="n">parameter_values</span><span class="p">[</span><span class="n">ib</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_stations</span><span class="p">)</span> <span class="o">+</span> <span class="n">real_val</span>

    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">onefile</span><span class="p">:</span>
            <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_param&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;param&quot;</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">})</span>
            <span class="n">km_thr</span><span class="p">,</span> <span class="n">val</span> <span class="o">=</span> <span class="n">_get_stations</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">positive</span><span class="p">,</span> <span class="n">valid</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ib</span><span class="p">,</span> <span class="n">num_stations</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">num_stations_per_bank</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">onefile</span><span class="p">:</span>
                <span class="n">filename_i</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">ib</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}{</span><span class="n">ext</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">log_text</span><span class="p">(</span>
                    <span class="s2">&quot;read_param_one_bank&quot;</span><span class="p">,</span>
                    <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;param&quot;</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">:</span> <span class="n">ib</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">filename_i</span><span class="p">},</span>
                <span class="p">)</span>
                <span class="n">km_thr</span><span class="p">,</span> <span class="n">val</span> <span class="o">=</span> <span class="n">_get_stations</span><span class="p">(</span><span class="n">filename_i</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">positive</span><span class="p">,</span> <span class="n">valid</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">km_thr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">parameter_values</span><span class="p">[</span><span class="n">ib</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_stations</span><span class="p">)</span> <span class="o">+</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_stations</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">thr</span> <span class="ow">in</span> <span class="n">km_thr</span><span class="p">:</span>
                    <span class="n">idx</span><span class="p">[</span><span class="n">num_stations</span> <span class="o">&gt;=</span> <span class="n">thr</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">parameter_values</span><span class="p">[</span><span class="n">ib</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
            <span class="c1"># print(&quot;Min/max of data: &quot;, parfield[ib].min(), parfield[ib].max())</span>

    <span class="k">return</span> <span class="n">parameter_values</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.read" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.read" class="toclink">
            <code class="highlight language-python"><span class="n">read</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConfigFile</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</a><a href="#dfastbe.io.ConfigFile.read" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Read a configParser object (configuration file).</p>
<p>Reads the config file using the standard <code>configparser</code>. Falls back to a
dedicated reader compatible with old waqbank files.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span> | <span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the configuration file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>ConfigFile</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="ConfigFile (&lt;code&gt;dfastbe.io.ConfigFile&lt;/code&gt;)" href="#dfastbe.io.ConfigFile">ConfigFile</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Settings for the D-FAST Bank Erosion analysis.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the configuration file does not exist.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If there is an error reading the config file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Read a config file:
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
</code></pre></div></p>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ConfigFile&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Read a configParser object (configuration file).</span>

<span class="sd">    Reads the config file using the standard `configparser`. Falls back to a</span>
<span class="sd">    dedicated reader compatible with old waqbank files.</span>

<span class="sd">    Args:</span>
<span class="sd">        path (str | Path): Path to the configuration file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ConfigFile: Settings for the D-FAST Bank Erosion analysis.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: If the configuration file does not exist.</span>
<span class="sd">        Exception: If there is an error reading the config file.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Read a config file:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The Config-File: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2"> does not exist&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="p">(</span><span class="n">comment_prefixes</span><span class="o">=</span><span class="s2">&quot;%&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">configfile</span><span class="p">:</span>
            <span class="n">config</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">configfile</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ConfigparserError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error during reading the config file: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">config</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">config_file_callback_parser</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="c1"># if version != &quot;1.0&quot;:</span>
    <span class="n">config</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_upgrade</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.read_bank_lines" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.read_bank_lines" class="toclink">
            <code class="highlight language-python"><span class="n">read_bank_lines</span><span class="p">(</span><span class="n">bank_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span></code>

</a><a href="#dfastbe.io.ConfigFile.read_bank_lines" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Get the bank lines from the detection step.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>bank_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of directory in which the bank lines files are located.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="numpy.ndarray">ndarray</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[np.ndarray]: List of arrays containing the x,y-coordinates of a bank lines.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">read_bank_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bank_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the bank lines from the detection step.</span>

<span class="sd">    Args:</span>
<span class="sd">        bank_dir (str): Name of directory in which the bank lines files are located.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[np.ndarray]: List of arrays containing the x,y-coordinates of a bank lines.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">bank_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_str</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;BankFile&quot;</span><span class="p">,</span> <span class="s2">&quot;bankfile&quot;</span><span class="p">)</span>
    <span class="n">bankfile</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">bank_dir</span><span class="p">)</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bank_name</span><span class="si">}</span><span class="s2">.shp&quot;</span>
    <span class="k">if</span> <span class="n">bankfile</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_banklines&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">bankfile</span><span class="p">)})</span>
        <span class="k">return</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">bankfile</span><span class="p">)</span>

    <span class="n">bankfile</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">bank_dir</span><span class="p">)</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bank_name</span><span class="si">}</span><span class="s2">_#.xyc&quot;</span>
    <span class="n">log_text</span><span class="p">(</span><span class="s2">&quot;read_banklines&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">bankfile</span><span class="p">)})</span>
    <span class="n">bankline_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">xyc_file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">bank_dir</span><span class="p">)</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bank_name</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">.xyc&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">xyc_file</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">break</span>

        <span class="n">xy_bank</span> <span class="o">=</span> <span class="n">XYCModel</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">xyc_file</span><span class="p">)</span>
        <span class="n">bankline_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">xy_bank</span><span class="p">))</span>
        <span class="n">b</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">bankline_series</span> <span class="o">=</span> <span class="n">GeoSeries</span><span class="p">(</span><span class="n">bankline_list</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span>
    <span class="n">banklines</span> <span class="o">=</span> <span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">geometry</span><span class="o">=</span><span class="n">bankline_series</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">banklines</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.relative_to" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.relative_to" class="toclink">
            <code class="highlight language-python"><span class="n">relative_to</span><span class="p">(</span><span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</a><a href="#dfastbe.io.ConfigFile.relative_to" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Convert a configuration object to contain relative paths (for saving).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rootdir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to be used as base for the relative paths.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s2">&quot;testing/data/erosion&quot;</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">relative_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a configuration object to contain relative paths (for saving).</span>

<span class="sd">    Args:</span>
<span class="sd">        rootdir (str): The path to be used as base for the relative paths.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; config_file.relative_to(&quot;testing/data/erosion&quot;)</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;General&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverKM&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;BankDir&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;FigureDir&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;Detect&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="s2">&quot;SimFile&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">line_i</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Line</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">line_i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;Detect&quot;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="n">line_i</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>

    <span class="k">if</span> <span class="s2">&quot;Erosion&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverAxis&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Fairway&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;OutputDir&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;ShipType&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;VShip&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NShip&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NWave&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Draught&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Wave0&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Wave1&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;BankType&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;ProtectionLevel&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Slope&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Reed&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

        <span class="n">n_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NLevel&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;SimFile</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;ShipType</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;VShip</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;NShip</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;NWave</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Draught</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Slope</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_relative_to</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Reed</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.resolve" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.resolve" class="toclink">
            <code class="highlight language-python"><span class="n">resolve</span><span class="p">(</span><span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span></code>

</a><a href="#dfastbe.io.ConfigFile.resolve" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Convert a configuration object to contain absolute paths (for editing).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rootdir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to be used as base for the absolute paths.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion&quot;</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">resolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a configuration object to contain absolute paths (for editing).</span>

<span class="sd">    Args:</span>
<span class="sd">        rootdir (str): The path to be used as base for the absolute paths.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; config_file.resolve(&quot;tests/data/erosion&quot;)</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;General&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverKM&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;BankDir&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;FigureDir&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;Detect&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="s2">&quot;SimFile&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">line_i</span> <span class="o">=</span> <span class="s2">&quot;Line&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">line_i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;Detect&quot;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Detect&quot;</span><span class="p">,</span> <span class="n">line_i</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>

    <span class="k">if</span> <span class="s2">&quot;Erosion&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverAxis&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Fairway&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;OutputDir&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;ShipType&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;VShip&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NShip&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NWave&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Draught&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Wave0&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Wave1&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;BankType&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;ProtectionLevel&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Slope&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;Reed&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>

        <span class="n">n_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="s2">&quot;NLevel&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;SimFile</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;ShipType</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;VShip</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;NShip</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;NWave</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Draught</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Slope</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;Erosion&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Reed</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.resolve_parameter" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.resolve_parameter" class="toclink">
            <code class="highlight language-python"><span class="n">resolve_parameter</span><span class="p">(</span><span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span></code>

</a><a href="#dfastbe.io.ConfigFile.resolve_parameter" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Convert a parameter value to contain an absolute path.</p>
<p>Determine whether the string represents a number.
If not, try to convert to an absolute path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the group in the configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the key in the configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>rootdir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to be used as base for the absolute paths.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span><span class="o">.</span><span class="n">resolve_parameter</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">,</span> <span class="s2">&quot;RiverKM&quot;</span><span class="p">,</span> <span class="s2">&quot;tests/data/erosion&quot;</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">resolve_parameter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a parameter value to contain an absolute path.</span>

<span class="sd">    Determine whether the string represents a number.</span>
<span class="sd">    If not, try to convert to an absolute path.</span>

<span class="sd">    Args:</span>
<span class="sd">        group (str): Name of the group in the configuration.</span>
<span class="sd">        key (str): Name of the key in the configuration.</span>
<span class="sd">        rootdir (str): The path to be used as base for the absolute paths.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; config_file.resolve_parameter(&quot;General&quot;, &quot;RiverKM&quot;, &quot;tests/data/erosion&quot;)</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">]:</span>
        <span class="n">val_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">float</span><span class="p">(</span><span class="n">val_str</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">group</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">absolute_path</span><span class="p">(</span><span class="n">rootdir</span><span class="p">,</span> <span class="n">val_str</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.validate_parameter_value" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.validate_parameter_value" class="toclink">
            <code class="highlight language-python"><span class="n">validate_parameter_value</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">valid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span></code>

</a><a href="#dfastbe.io.ConfigFile.validate_parameter_value" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Validate a parameter value against constraints.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parameter value to validate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the parameter for error messages.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>positive</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag specifying whether all values are accepted (if False),
or only positive values (if True); default False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>valid</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional list of valid values; default None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the value doesn't meet the constraints.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The validated parameter value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate_parameter_value</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">positive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">valid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate a parameter value against constraints.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (float): The parameter value to validate.</span>
<span class="sd">        key (str): Name of the parameter for error messages.</span>
<span class="sd">        positive (bool): Flag specifying whether all values are accepted (if False),</span>
<span class="sd">            or only positive values (if True); default False.</span>
<span class="sd">        valid (Optional[List[float]]): Optional list of valid values; default None.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the value doesn&#39;t meet the constraints.</span>

<span class="sd">    Returns:</span>
<span class="sd">        float: The validated parameter value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">positive</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;Value of &quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&quot; should be positive, not </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1">.&#39;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">valid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">valid</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;Value of &quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&quot; should be in </span><span class="si">{</span><span class="n">valid</span><span class="si">}</span><span class="s1">, not </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1">.&#39;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.ConfigFile.write" class="doc doc-heading"><a href="#dfastbe.io.ConfigFile.write" class="toclink">
            <code class="highlight language-python"><span class="n">write</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</a><a href="#dfastbe.io.ConfigFile.write" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Pretty print a configParser object (configuration file) to file.</p>
<p>Pretty prints a <code>configparser</code> object to a file. Aligns the equal signs for
all keyword/value pairs, adds a two-space indentation to all keyword lines,
and adds an empty line before the start of a new block.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filename</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the configuration file to be written.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">dfastbe.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_file</span> <span class="o">=</span> <span class="n">ConfigFile</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;tests/data/erosion/meuse_manual.cfg&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">tmpdirname</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">config_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tmpdirname</span><span class="si">}</span><span class="s2">/meuse_manual_out.cfg&quot;</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pretty print a configParser object (configuration file) to file.</span>

<span class="sd">    Pretty prints a `configparser` object to a file. Aligns the equal signs for</span>
<span class="sd">    all keyword/value pairs, adds a two-space indentation to all keyword lines,</span>
<span class="sd">    and adds an empty line before the start of a new block.</span>

<span class="sd">    Args:</span>
<span class="sd">        filename (str): Name of the configuration file to be written.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; import tempfile</span>
<span class="sd">        &gt;&gt;&gt; from dfastbe.io import ConfigFile</span>
<span class="sd">        &gt;&gt;&gt; config_file = ConfigFile.read(&quot;tests/data/erosion/meuse_manual.cfg&quot;)</span>
<span class="sd">        &gt;&gt;&gt; with tempfile.TemporaryDirectory() as tmpdirname:</span>
<span class="sd">        ...     config_file.write(f&quot;{tmpdirname}/meuse_manual_out.cfg&quot;)</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">sections</span><span class="p">()</span>
    <span class="n">max_length</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">:</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
        <span class="n">max_length</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">max_length</span><span class="p">,</span> <span class="o">*</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">option</span><span class="p">)</span> <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">options</span><span class="p">])</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">configfile</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">section</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sections</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">configfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">configfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">section</span><span class="si">}</span><span class="s2">]</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
                <span class="n">configfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">option</span><span class="si">:</span><span class="s2">&lt;</span><span class="si">{</span><span class="n">max_length</span><span class="si">}}</span><span class="s2"> = </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">section</span><span class="p">][</span><span class="n">option</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="dfastbe.io.ConfigFileError" class="doc doc-heading"><a href="#dfastbe.io.ConfigFileError" class="toclink">
            <code>ConfigFileError</code>


</a><a href="#dfastbe.io.ConfigFileError" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="Exception">Exception</span></code></p>


        <p>Custom exception for configuration file errors.</p>






              <details class="quote">
                <summary>Source code in <code>src/dfastbe/io.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ConfigFileError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Custom exception for configuration file errors.&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="dfastbe.io.LineGeometry" class="doc doc-heading"><a href="#dfastbe.io.LineGeometry" class="toclink">
            <code>LineGeometry</code>


</a><a href="#dfastbe.io.LineGeometry" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">


        <p>Center line class.</p>






              <details class="quote">
                <summary>Source code in <code>src/dfastbe/io.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LineGeometry</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Center line class.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="n">LineString</span> <span class="o">|</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">mask</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">crs</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Geometry Line initialization.</span>

<span class="sd">        Args:</span>
<span class="sd">            line (LineString):</span>
<span class="sd">                River center line as a linestring.</span>
<span class="sd">            mask (Tuple[float, float], optional):</span>
<span class="sd">                Lower and upper limit for the chainage. Defaults to None.</span>
<span class="sd">            crs (str, Optional):</span>
<span class="sd">                the coordinate reference system number as a string.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; line_string = LineString([(0, 0, 0), (1, 1, 1), (2, 2, 2)])</span>
<span class="sd">            &gt;&gt;&gt; mask = (0.5, 1.5)</span>
<span class="sd">            &gt;&gt;&gt; center_line = LineGeometry(line_string, mask)</span>
<span class="sd">            No message found for clip_chainage</span>
<span class="sd">            &gt;&gt;&gt; np.array(center_line.values.coords)</span>
<span class="sd">            array([[0.5, 0.5, 0.5],</span>
<span class="sd">                   [1. , 1. , 1. ],</span>
<span class="sd">                   [1.5, 1.5, 1.5]])</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">station_bounds</span> <span class="o">=</span> <span class="n">mask</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="n">crs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">LineString</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mask</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="n">line</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">:</span> <span class="n">LineString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>

            <span class="n">log_text</span><span class="p">(</span>
                <span class="s2">&quot;clip_chainage&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;low&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">station_bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;high&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">station_bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;any data assigned to the line using the `add_data` method.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">as_array</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add data to the LineGeometry object.</span>

<span class="sd">        Args:</span>
<span class="sd">            data (Dict[str, np.ndarray]):</span>
<span class="sd">                Dictionary of quantities to be added, each np array should have length k.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">|</span> <span class="n">data</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write a shape point file with x, y, and values.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_name : str</span>
<span class="sd">                Name of the file to be written.</span>
<span class="sd">            data : Dict[str, np.ndarray]</span>
<span class="sd">                Dictionary of quantities to be written, each np array should have length k.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">as_array</span><span class="p">()</span>
        <span class="n">geom</span> <span class="o">=</span> <span class="p">[</span><span class="n">Point</span><span class="p">(</span><span class="n">xy_i</span><span class="p">)</span> <span class="k">for</span> <span class="n">xy_i</span> <span class="ow">in</span> <span class="n">xy</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
        <span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">geometry</span><span class="o">=</span><span class="n">geom</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">mask</span><span class="p">(</span><span class="n">line_string</span><span class="p">:</span> <span class="n">LineString</span><span class="p">,</span> <span class="n">bounds</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">LineString</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clip a LineGeometry to the relevant reach.</span>

<span class="sd">        Args:</span>
<span class="sd">            line_string (LineString):</span>
<span class="sd">                river center line as a linestring.</span>
<span class="sd">            bounds (Tuple[float, float]):</span>
<span class="sd">                Lower and upper limit for the chainage.</span>

<span class="sd">        Returns:</span>
<span class="sd">            LineString: Clipped river chainage line.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; line_string = LineString([(0, 0, 0), (1, 1, 1), (2, 2, 2)])</span>
<span class="sd">            &gt;&gt;&gt; bounds = (0.5, 1.5)</span>
<span class="sd">            &gt;&gt;&gt; center_line = LineGeometry.mask(line_string, bounds)</span>
<span class="sd">            &gt;&gt;&gt; np.array(center_line.coords)</span>
<span class="sd">            array([[0.5, 0.5, 0.5],</span>
<span class="sd">                   [1. , 1. , 1. ],</span>
<span class="sd">                   [1.5, 1.5, 1.5]])</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">line_string_coords</span> <span class="o">=</span> <span class="n">line_string</span><span class="o">.</span><span class="n">coords</span>
        <span class="n">start_index</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="o">.</span><span class="n">_find_mask_index</span><span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">line_string_coords</span><span class="p">)</span>
        <span class="n">end_index</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="o">.</span><span class="n">_find_mask_index</span><span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line_string_coords</span><span class="p">)</span>
        <span class="n">lower_bound_point</span><span class="p">,</span> <span class="n">start_index</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="o">.</span><span class="n">_handle_bound</span><span class="p">(</span>
            <span class="n">start_index</span><span class="p">,</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">True</span><span class="p">,</span> <span class="n">line_string_coords</span>
        <span class="p">)</span>
        <span class="n">upper_bound_point</span><span class="p">,</span> <span class="n">end_index</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="o">.</span><span class="n">_handle_bound</span><span class="p">(</span>
            <span class="n">end_index</span><span class="p">,</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="kc">False</span><span class="p">,</span> <span class="n">line_string_coords</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">lower_bound_point</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">upper_bound_point</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">line_string</span>
        <span class="k">elif</span> <span class="n">lower_bound_point</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">LineString</span><span class="p">(</span><span class="n">line_string_coords</span><span class="p">[:</span> <span class="n">end_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">upper_bound_point</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">upper_bound_point</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">LineString</span><span class="p">([</span><span class="n">lower_bound_point</span><span class="p">]</span> <span class="o">+</span> <span class="n">line_string_coords</span><span class="p">[</span><span class="n">start_index</span><span class="p">:])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">LineString</span><span class="p">(</span>
                <span class="p">[</span><span class="n">lower_bound_point</span><span class="p">]</span>
                <span class="o">+</span> <span class="n">line_string_coords</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">]</span>
                <span class="o">+</span> <span class="p">[</span><span class="n">upper_bound_point</span><span class="p">]</span>
            <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_find_mask_index</span><span class="p">(</span>
        <span class="n">station_bound</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">line_string_coords</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Find the start and end indices for clipping the chainage line.</span>

<span class="sd">        Args:</span>
<span class="sd">            station_bound (float):</span>
<span class="sd">                Station bound for clipping.</span>
<span class="sd">            line_string_coords (np.ndarray):</span>
<span class="sd">                Coordinates of the line string.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[int]: index for clipping.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mask_index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="n">index</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">coord</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">line_string_coords</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">coord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">station_bound</span>
            <span class="p">),</span>
            <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">mask_index</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_bound</span><span class="p">(</span>
        <span class="n">index</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
        <span class="n">station_bound</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">is_lower</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">line_string_coords</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Handle the clipping of the stations line for a given bound.</span>

<span class="sd">        Args:</span>
<span class="sd">            index (Optional[int]):</span>
<span class="sd">                Index for clipping (start or end).</span>
<span class="sd">            station_bound (float):</span>
<span class="sd">                Station bound for clipping.</span>
<span class="sd">            is_lower (bool):</span>
<span class="sd">                True if handling the lower bound, False for the upper bound.</span>
<span class="sd">            line_string_coords (np.ndarray):</span>
<span class="sd">                Coordinates of the line string.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[Optional[Tuple[float, float, float]], Optional[int]]:</span>
<span class="sd">                Adjusted bound point and updated index.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">bound_type</span> <span class="o">=</span> <span class="s2">&quot;Lower&quot;</span> <span class="k">if</span> <span class="n">is_lower</span> <span class="k">else</span> <span class="s2">&quot;Upper&quot;</span>
            <span class="n">end_station</span> <span class="o">=</span> <span class="n">line_string_coords</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">is_lower</span> <span class="ow">or</span> <span class="p">(</span><span class="n">station_bound</span> <span class="o">-</span> <span class="n">end_station</span> <span class="o">&gt;</span> <span class="mf">0.1</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bound_type</span><span class="si">}</span><span class="s2"> chainage bound </span><span class="si">{</span><span class="n">station_bound</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;is larger than the maximum chainage </span><span class="si">{</span><span class="n">end_station</span><span class="si">}</span><span class="s2"> available&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="n">index</span>

        <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">bound_type</span> <span class="o">=</span> <span class="s2">&quot;Lower&quot;</span> <span class="k">if</span> <span class="n">is_lower</span> <span class="k">else</span> <span class="s2">&quot;Upper&quot;</span>
            <span class="n">start_station</span> <span class="o">=</span> <span class="n">line_string_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_lower</span> <span class="ow">or</span> <span class="p">(</span><span class="n">start_station</span> <span class="o">-</span> <span class="n">station_bound</span> <span class="o">&gt;</span> <span class="mf">0.1</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bound_type</span><span class="si">}</span><span class="s2"> chainage bound </span><span class="si">{</span><span class="n">station_bound</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;is smaller than the minimum chainage </span><span class="si">{</span><span class="n">start_station</span><span class="si">}</span><span class="s2"> available&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="n">index</span>

        <span class="c1"># Interpolate the point</span>
        <span class="n">alpha</span><span class="p">,</span> <span class="n">interpolated_point</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="o">.</span><span class="n">_interpolate_point</span><span class="p">(</span>
            <span class="n">index</span><span class="p">,</span> <span class="n">station_bound</span><span class="p">,</span> <span class="n">line_string_coords</span>
        <span class="p">)</span>

        <span class="c1"># Adjust the index based on the interpolation factor</span>
        <span class="k">if</span> <span class="n">is_lower</span> <span class="ow">and</span> <span class="n">alpha</span> <span class="o">&gt;</span> <span class="mf">0.9</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">is_lower</span> <span class="ow">and</span> <span class="n">alpha</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">interpolated_point</span><span class="p">,</span> <span class="n">index</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_interpolate_point</span><span class="p">(</span>
        <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">station_bound</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">line_string_coords</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Interpolate a point between two coordinates.</span>

<span class="sd">        Args:</span>
<span class="sd">            index (int):</span>
<span class="sd">                Index of the coordinate to interpolate.</span>
<span class="sd">            station_bound (float):</span>
<span class="sd">                Station bound for interpolation.</span>
<span class="sd">            line_string_coords (np.ndarray):</span>
<span class="sd">                Coordinates of the line string.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Interpolation factor.</span>
<span class="sd">            Tuple[float, float, float]: Interpolated point.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="p">(</span><span class="n">station_bound</span> <span class="o">-</span> <span class="n">line_string_coords</span><span class="p">[</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span>
                <span class="n">line_string_coords</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">line_string_coords</span><span class="p">[</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">interpolated_point</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="n">prev_coord</span> <span class="o">+</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span><span class="n">next_coord</span> <span class="o">-</span> <span class="n">prev_coord</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">prev_coord</span><span class="p">,</span> <span class="n">next_coord</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
                <span class="n">line_string_coords</span><span class="p">[</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">line_string_coords</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">interpolated_point</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">intersect_with_line</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">reference_line_with_stations</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Project chainage(stations) values from a reference line onto a target line by spatial proximity and interpolation.</span>

<span class="sd">        Project chainage values from source line L1 onto another line L2.</span>

<span class="sd">        The chainage values are giving along a line L1 (xykm_numpy). For each node</span>
<span class="sd">        of the line L2 (line_xy) on which we would like to know the chainage, first</span>
<span class="sd">        the closest node (discrete set of nodes) on L1 is determined and</span>
<span class="sd">        subsequently the exact chainage isobtained by determining the closest point</span>
<span class="sd">        (continuous line) on L1 for which the chainage is determined using by means</span>
<span class="sd">        of interpolation.</span>

<span class="sd">        Args:</span>
<span class="sd">            target_line_coords (np.ndarray):</span>
<span class="sd">                Nx2 array of x, y coordinates for the target line.</span>
<span class="sd">            reference_line_with_stations (np.ndarray):</span>
<span class="sd">                Mx3 array with x, y, and chainage values for the reference line.</span>

<span class="sd">        Returns:</span>
<span class="sd">            line_km : np.ndarray</span>
<span class="sd">                Array containing the chainage for every coordinate specified in line_xy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">coords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">as_array</span><span class="p">()</span>
        <span class="c1"># pre-allocates the array for the mapped chainage values</span>
        <span class="n">projected_stations</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">coords</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="c1"># get an array with only the x,y coordinates of line L1</span>
        <span class="n">ref_coords</span> <span class="o">=</span> <span class="n">reference_line_with_stations</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">last_index</span> <span class="o">=</span> <span class="n">reference_line_with_stations</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>

        <span class="c1"># for each node rp on line L2 get the chainage ...</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">station_i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">coords</span><span class="p">):</span>
            <span class="c1"># find the node on L1 closest to rp</span>
            <span class="c1"># get the distance to all the nodes on the reference line, and find the closest one</span>
            <span class="n">closest_ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmin</span><span class="p">(((</span><span class="n">station_i</span> <span class="o">-</span> <span class="n">ref_coords</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
            <span class="n">closest_coords</span> <span class="o">=</span> <span class="n">ref_coords</span><span class="p">[</span><span class="n">closest_ind</span><span class="p">]</span>

            <span class="c1"># determine the distance between that node and rp</span>
            <span class="n">squared_distance</span> <span class="o">=</span> <span class="p">((</span><span class="n">station_i</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

            <span class="c1"># chainage value of that node</span>
            <span class="n">station</span> <span class="o">=</span> <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

            <span class="c1"># if we didn&#39;t get the first node</span>
            <span class="k">if</span> <span class="n">closest_ind</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># project rp onto the line segment before this node</span>
                <span class="n">closest_coord_minus_1</span> <span class="o">=</span> <span class="n">ref_coords</span><span class="p">[</span><span class="n">closest_ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">alpha</span> <span class="o">=</span> <span class="p">(</span>
                                <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">station_i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                                <span class="o">+</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">station_i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                        <span class="p">)</span> <span class="o">/</span> <span class="p">((</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
                <span class="c1"># if there is a closest point not coinciding with the nodes ...</span>
                <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">alpha</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">dist2link</span> <span class="o">=</span> <span class="p">(</span><span class="n">station_i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span>
                            <span class="n">station_i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="p">)</span> <span class="o">**</span> <span class="mi">2</span>
                    <span class="c1"># if it&#39;s actually closer than the node ...</span>
                    <span class="k">if</span> <span class="n">dist2link</span> <span class="o">&lt;</span> <span class="n">squared_distance</span><span class="p">:</span>
                        <span class="c1"># update the closest point information</span>
                        <span class="n">squared_distance</span> <span class="o">=</span> <span class="n">dist2link</span>
                        <span class="n">station</span> <span class="o">=</span> <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span>
                                <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
                        <span class="p">)</span>

            <span class="c1"># if we didn&#39;t get the last node</span>
            <span class="k">if</span> <span class="n">closest_ind</span> <span class="o">&lt;</span> <span class="n">last_index</span><span class="p">:</span>
                <span class="c1"># project rp onto the line segment after this node</span>
                <span class="n">closest_coord_minus_1</span> <span class="o">=</span> <span class="n">ref_coords</span><span class="p">[</span><span class="n">closest_ind</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">alpha</span> <span class="o">=</span> <span class="p">(</span>
                                <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">station_i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                                <span class="o">+</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">station_i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                        <span class="p">)</span> <span class="o">/</span> <span class="p">((</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
                <span class="c1"># if there is a closest point not coinciding with the nodes ...</span>
                <span class="k">if</span> <span class="n">alpha</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">alpha</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">dist2link</span> <span class="o">=</span> <span class="p">(</span><span class="n">station_i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span>
                            <span class="n">station_i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="p">)</span> <span class="o">**</span> <span class="mi">2</span>
                    <span class="c1"># if it&#39;s actually closer than the previous value ...</span>
                    <span class="k">if</span> <span class="n">dist2link</span> <span class="o">&lt;</span> <span class="n">squared_distance</span><span class="p">:</span>
                        <span class="c1"># update the closest point information</span>
                        <span class="c1"># squared_distance = dist2link</span>
                        <span class="n">station</span> <span class="o">=</span> <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span>
                                <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
                        <span class="p">)</span>
            <span class="c1"># store the chainage value, loop ... and return</span>
            <span class="n">projected_stations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">station</span>
        <span class="k">return</span> <span class="n">projected_stations</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="dfastbe.io.LineGeometry.data" class="doc doc-heading"><a href="#dfastbe.io.LineGeometry.data" class="toclink">
            <code class="highlight language-python"><span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</a><a href="#dfastbe.io.LineGeometry.data" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>any data assigned to the line using the <code>add_data</code> method.</p>
    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.LineGeometry.__init__" class="doc doc-heading"><a href="#dfastbe.io.LineGeometry.__init__" class="toclink">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="n">LineString</span> <span class="o">|</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">mask</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">crs</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

</a><a href="#dfastbe.io.LineGeometry.__init__" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Geometry Line initialization.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>line</code>
            </td>
            <td>
                  <code><span title="shapely.geometry.LineString">LineString</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>River center line as a linestring.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mask</code>
            </td>
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Lower and upper limit for the chainage. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>crs</code>
            </td>
            <td>
                  <code>(<span title="str">str</span>, <span title="typing.Optional">Optional</span>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the coordinate reference system number as a string.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">line_string</span> <span class="o">=</span> <span class="n">LineString</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">center_line</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="p">(</span><span class="n">line_string</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>
<span class="n">No</span> <span class="n">message</span> <span class="n">found</span> <span class="k">for</span> <span class="n">clip_chainage</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">center_line</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
<span class="n">array</span><span class="p">([[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">1.</span> <span class="p">,</span> <span class="mf">1.</span> <span class="p">,</span> <span class="mf">1.</span> <span class="p">],</span>
       <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="n">LineString</span> <span class="o">|</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">mask</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">crs</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Geometry Line initialization.</span>

<span class="sd">    Args:</span>
<span class="sd">        line (LineString):</span>
<span class="sd">            River center line as a linestring.</span>
<span class="sd">        mask (Tuple[float, float], optional):</span>
<span class="sd">            Lower and upper limit for the chainage. Defaults to None.</span>
<span class="sd">        crs (str, Optional):</span>
<span class="sd">            the coordinate reference system number as a string.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; line_string = LineString([(0, 0, 0), (1, 1, 1), (2, 2, 2)])</span>
<span class="sd">        &gt;&gt;&gt; mask = (0.5, 1.5)</span>
<span class="sd">        &gt;&gt;&gt; center_line = LineGeometry(line_string, mask)</span>
<span class="sd">        No message found for clip_chainage</span>
<span class="sd">        &gt;&gt;&gt; np.array(center_line.values.coords)</span>
<span class="sd">        array([[0.5, 0.5, 0.5],</span>
<span class="sd">               [1. , 1. , 1. ],</span>
<span class="sd">               [1.5, 1.5, 1.5]])</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">station_bounds</span> <span class="o">=</span> <span class="n">mask</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="n">crs</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">LineString</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">mask</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="n">line</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">:</span> <span class="n">LineString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>

        <span class="n">log_text</span><span class="p">(</span>
            <span class="s2">&quot;clip_chainage&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;low&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">station_bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;high&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">station_bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.LineGeometry.add_data" class="doc doc-heading"><a href="#dfastbe.io.LineGeometry.add_data" class="toclink">
            <code class="highlight language-python"><span class="n">add_data</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</a><a href="#dfastbe.io.LineGeometry.add_data" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Add data to the LineGeometry object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="numpy.ndarray">ndarray</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of quantities to be added, each np array should have length k.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add data to the LineGeometry object.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (Dict[str, np.ndarray]):</span>
<span class="sd">            Dictionary of quantities to be added, each np array should have length k.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">|</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.LineGeometry.intersect_with_line" class="doc doc-heading"><a href="#dfastbe.io.LineGeometry.intersect_with_line" class="toclink">
            <code class="highlight language-python"><span class="n">intersect_with_line</span><span class="p">(</span><span class="n">reference_line_with_stations</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span></code>

</a><a href="#dfastbe.io.LineGeometry.intersect_with_line" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Project chainage(stations) values from a reference line onto a target line by spatial proximity and interpolation.</p>
<p>Project chainage values from source line L1 onto another line L2.</p>
<p>The chainage values are giving along a line L1 (xykm_numpy). For each node
of the line L2 (line_xy) on which we would like to know the chainage, first
the closest node (discrete set of nodes) on L1 is determined and
subsequently the exact chainage isobtained by determining the closest point
(continuous line) on L1 for which the chainage is determined using by means
of interpolation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>target_line_coords</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Nx2 array of x, y coordinates for the target line.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reference_line_with_stations</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Mx3 array with x, y, and chainage values for the reference line.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>line_km</code></td>            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>np.ndarray
Array containing the chainage for every coordinate specified in line_xy.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">intersect_with_line</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">reference_line_with_stations</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Project chainage(stations) values from a reference line onto a target line by spatial proximity and interpolation.</span>

<span class="sd">    Project chainage values from source line L1 onto another line L2.</span>

<span class="sd">    The chainage values are giving along a line L1 (xykm_numpy). For each node</span>
<span class="sd">    of the line L2 (line_xy) on which we would like to know the chainage, first</span>
<span class="sd">    the closest node (discrete set of nodes) on L1 is determined and</span>
<span class="sd">    subsequently the exact chainage isobtained by determining the closest point</span>
<span class="sd">    (continuous line) on L1 for which the chainage is determined using by means</span>
<span class="sd">    of interpolation.</span>

<span class="sd">    Args:</span>
<span class="sd">        target_line_coords (np.ndarray):</span>
<span class="sd">            Nx2 array of x, y coordinates for the target line.</span>
<span class="sd">        reference_line_with_stations (np.ndarray):</span>
<span class="sd">            Mx3 array with x, y, and chainage values for the reference line.</span>

<span class="sd">    Returns:</span>
<span class="sd">        line_km : np.ndarray</span>
<span class="sd">            Array containing the chainage for every coordinate specified in line_xy.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">coords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">as_array</span><span class="p">()</span>
    <span class="c1"># pre-allocates the array for the mapped chainage values</span>
    <span class="n">projected_stations</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">coords</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="c1"># get an array with only the x,y coordinates of line L1</span>
    <span class="n">ref_coords</span> <span class="o">=</span> <span class="n">reference_line_with_stations</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">last_index</span> <span class="o">=</span> <span class="n">reference_line_with_stations</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="c1"># for each node rp on line L2 get the chainage ...</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">station_i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">coords</span><span class="p">):</span>
        <span class="c1"># find the node on L1 closest to rp</span>
        <span class="c1"># get the distance to all the nodes on the reference line, and find the closest one</span>
        <span class="n">closest_ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmin</span><span class="p">(((</span><span class="n">station_i</span> <span class="o">-</span> <span class="n">ref_coords</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">closest_coords</span> <span class="o">=</span> <span class="n">ref_coords</span><span class="p">[</span><span class="n">closest_ind</span><span class="p">]</span>

        <span class="c1"># determine the distance between that node and rp</span>
        <span class="n">squared_distance</span> <span class="o">=</span> <span class="p">((</span><span class="n">station_i</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

        <span class="c1"># chainage value of that node</span>
        <span class="n">station</span> <span class="o">=</span> <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

        <span class="c1"># if we didn&#39;t get the first node</span>
        <span class="k">if</span> <span class="n">closest_ind</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># project rp onto the line segment before this node</span>
            <span class="n">closest_coord_minus_1</span> <span class="o">=</span> <span class="n">ref_coords</span><span class="p">[</span><span class="n">closest_ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">alpha</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">station_i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                            <span class="o">+</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">station_i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="p">)</span> <span class="o">/</span> <span class="p">((</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
            <span class="c1"># if there is a closest point not coinciding with the nodes ...</span>
            <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">alpha</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">dist2link</span> <span class="o">=</span> <span class="p">(</span><span class="n">station_i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span>
                        <span class="n">station_i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="p">)</span> <span class="o">**</span> <span class="mi">2</span>
                <span class="c1"># if it&#39;s actually closer than the node ...</span>
                <span class="k">if</span> <span class="n">dist2link</span> <span class="o">&lt;</span> <span class="n">squared_distance</span><span class="p">:</span>
                    <span class="c1"># update the closest point information</span>
                    <span class="n">squared_distance</span> <span class="o">=</span> <span class="n">dist2link</span>
                    <span class="n">station</span> <span class="o">=</span> <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span>
                            <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
                    <span class="p">)</span>

        <span class="c1"># if we didn&#39;t get the last node</span>
        <span class="k">if</span> <span class="n">closest_ind</span> <span class="o">&lt;</span> <span class="n">last_index</span><span class="p">:</span>
            <span class="c1"># project rp onto the line segment after this node</span>
            <span class="n">closest_coord_minus_1</span> <span class="o">=</span> <span class="n">ref_coords</span><span class="p">[</span><span class="n">closest_ind</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">alpha</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">station_i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                            <span class="o">+</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">station_i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="p">)</span> <span class="o">/</span> <span class="p">((</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
            <span class="c1"># if there is a closest point not coinciding with the nodes ...</span>
            <span class="k">if</span> <span class="n">alpha</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">alpha</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">dist2link</span> <span class="o">=</span> <span class="p">(</span><span class="n">station_i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span>
                        <span class="n">station_i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span><span class="n">closest_coord_minus_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">closest_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="p">)</span> <span class="o">**</span> <span class="mi">2</span>
                <span class="c1"># if it&#39;s actually closer than the previous value ...</span>
                <span class="k">if</span> <span class="n">dist2link</span> <span class="o">&lt;</span> <span class="n">squared_distance</span><span class="p">:</span>
                    <span class="c1"># update the closest point information</span>
                    <span class="c1"># squared_distance = dist2link</span>
                    <span class="n">station</span> <span class="o">=</span> <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span>
                            <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">reference_line_with_stations</span><span class="p">[</span><span class="n">closest_ind</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
                    <span class="p">)</span>
        <span class="c1"># store the chainage value, loop ... and return</span>
        <span class="n">projected_stations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">station</span>
    <span class="k">return</span> <span class="n">projected_stations</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.LineGeometry.mask" class="doc doc-heading"><a href="#dfastbe.io.LineGeometry.mask" class="toclink">
            <code class="highlight language-python"><span class="n">mask</span><span class="p">(</span><span class="n">line_string</span><span class="p">:</span> <span class="n">LineString</span><span class="p">,</span> <span class="n">bounds</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">LineString</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</a><a href="#dfastbe.io.LineGeometry.mask" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Clip a LineGeometry to the relevant reach.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>line_string</code>
            </td>
            <td>
                  <code><span title="shapely.geometry.LineString">LineString</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>river center line as a linestring.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>bounds</code>
            </td>
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Lower and upper limit for the chainage.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>LineString</code></td>            <td>
                  <code><span title="shapely.geometry.LineString">LineString</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Clipped river chainage line.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">line_string</span> <span class="o">=</span> <span class="n">LineString</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">bounds</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">center_line</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">line_string</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">center_line</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
<span class="n">array</span><span class="p">([[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">1.</span> <span class="p">,</span> <span class="mf">1.</span> <span class="p">,</span> <span class="mf">1.</span> <span class="p">],</span>
       <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">mask</span><span class="p">(</span><span class="n">line_string</span><span class="p">:</span> <span class="n">LineString</span><span class="p">,</span> <span class="n">bounds</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">LineString</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clip a LineGeometry to the relevant reach.</span>

<span class="sd">    Args:</span>
<span class="sd">        line_string (LineString):</span>
<span class="sd">            river center line as a linestring.</span>
<span class="sd">        bounds (Tuple[float, float]):</span>
<span class="sd">            Lower and upper limit for the chainage.</span>

<span class="sd">    Returns:</span>
<span class="sd">        LineString: Clipped river chainage line.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; line_string = LineString([(0, 0, 0), (1, 1, 1), (2, 2, 2)])</span>
<span class="sd">        &gt;&gt;&gt; bounds = (0.5, 1.5)</span>
<span class="sd">        &gt;&gt;&gt; center_line = LineGeometry.mask(line_string, bounds)</span>
<span class="sd">        &gt;&gt;&gt; np.array(center_line.coords)</span>
<span class="sd">        array([[0.5, 0.5, 0.5],</span>
<span class="sd">               [1. , 1. , 1. ],</span>
<span class="sd">               [1.5, 1.5, 1.5]])</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">line_string_coords</span> <span class="o">=</span> <span class="n">line_string</span><span class="o">.</span><span class="n">coords</span>
    <span class="n">start_index</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="o">.</span><span class="n">_find_mask_index</span><span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">line_string_coords</span><span class="p">)</span>
    <span class="n">end_index</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="o">.</span><span class="n">_find_mask_index</span><span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line_string_coords</span><span class="p">)</span>
    <span class="n">lower_bound_point</span><span class="p">,</span> <span class="n">start_index</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="o">.</span><span class="n">_handle_bound</span><span class="p">(</span>
        <span class="n">start_index</span><span class="p">,</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">True</span><span class="p">,</span> <span class="n">line_string_coords</span>
    <span class="p">)</span>
    <span class="n">upper_bound_point</span><span class="p">,</span> <span class="n">end_index</span> <span class="o">=</span> <span class="n">LineGeometry</span><span class="o">.</span><span class="n">_handle_bound</span><span class="p">(</span>
        <span class="n">end_index</span><span class="p">,</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="kc">False</span><span class="p">,</span> <span class="n">line_string_coords</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">lower_bound_point</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">upper_bound_point</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">line_string</span>
    <span class="k">elif</span> <span class="n">lower_bound_point</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">LineString</span><span class="p">(</span><span class="n">line_string_coords</span><span class="p">[:</span> <span class="n">end_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">upper_bound_point</span><span class="p">])</span>
    <span class="k">elif</span> <span class="n">upper_bound_point</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">LineString</span><span class="p">([</span><span class="n">lower_bound_point</span><span class="p">]</span> <span class="o">+</span> <span class="n">line_string_coords</span><span class="p">[</span><span class="n">start_index</span><span class="p">:])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">LineString</span><span class="p">(</span>
            <span class="p">[</span><span class="n">lower_bound_point</span><span class="p">]</span>
            <span class="o">+</span> <span class="n">line_string_coords</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">]</span>
            <span class="o">+</span> <span class="p">[</span><span class="n">upper_bound_point</span><span class="p">]</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="dfastbe.io.LineGeometry.to_file" class="doc doc-heading"><a href="#dfastbe.io.LineGeometry.to_file" class="toclink">
            <code class="highlight language-python"><span class="n">to_file</span><span class="p">(</span><span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</a><a href="#dfastbe.io.LineGeometry.to_file" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">

        <p>Write a shape point file with x, y, and values.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_name</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>str
Name of the file to be written.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dict[str, np.ndarray]
Dictionary of quantities to be written, each np array should have length k.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_file</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Write a shape point file with x, y, and values.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_name : str</span>
<span class="sd">            Name of the file to be written.</span>
<span class="sd">        data : Dict[str, np.ndarray]</span>
<span class="sd">            Dictionary of quantities to be written, each np array should have length k.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">xy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">as_array</span><span class="p">()</span>
    <span class="n">geom</span> <span class="o">=</span> <span class="p">[</span><span class="n">Point</span><span class="p">(</span><span class="n">xy_i</span><span class="p">)</span> <span class="k">for</span> <span class="n">xy_i</span> <span class="ow">in</span> <span class="n">xy</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
    <span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">geometry</span><span class="o">=</span><span class="n">geom</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="dfastbe.io.SimulationFilesError" class="doc doc-heading"><a href="#dfastbe.io.SimulationFilesError" class="toclink">
            <code>SimulationFilesError</code>


</a><a href="#dfastbe.io.SimulationFilesError" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="Exception">Exception</span></code></p>


        <p>Custom exception for configuration file errors.</p>






              <details class="quote">
                <summary>Source code in <code>src/dfastbe/io.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SimulationFilesError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Custom exception for configuration file errors.&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="dfastbe.io.absolute_path" class="doc doc-heading"><a href="#dfastbe.io.absolute_path" class="toclink">
            <code class="highlight language-python"><span class="n">absolute_path</span><span class="p">(</span><span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</a><a href="#dfastbe.io.absolute_path" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Convert a relative path to an absolute path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rootdir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Any relative paths should be given relative to this location.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A relative or absolute location.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An absolute location.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">absolute_path</span><span class="p">(</span><span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a relative path to an absolute path.</span>

<span class="sd">    Args:</span>
<span class="sd">        rootdir (str): Any relative paths should be given relative to this location.</span>
<span class="sd">        path (str): A relative or absolute location.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: An absolute location.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">path</span>
    <span class="n">root_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">rootdir</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
    <span class="n">target_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">target_path</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">():</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">target_path</span><span class="p">)</span>

    <span class="n">resolved_path</span> <span class="o">=</span> <span class="p">(</span><span class="n">root_path</span> <span class="o">/</span> <span class="n">target_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">resolved_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="dfastbe.io.get_bbox" class="doc doc-heading"><a href="#dfastbe.io.get_bbox" class="toclink">
            <code class="highlight language-python"><span class="n">get_bbox</span><span class="p">(</span><span class="n">coords</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span></code>

</a><a href="#dfastbe.io.get_bbox" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Derive the bounding box from a line.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>coords</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An N x M array containing x- and y-coordinates as first two M entries</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>buffer</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>float
Buffer fraction surrounding the tight bounding box</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bbox</code></td>            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="float">float</span>, <span title="float">float</span>, <span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tuple bounding box consisting of [min x, min y, max x, max y)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_bbox</span><span class="p">(</span>
        <span class="n">coords</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Derive the bounding box from a line.</span>

<span class="sd">    Args:</span>
<span class="sd">        coords (np.ndarray):</span>
<span class="sd">            An N x M array containing x- and y-coordinates as first two M entries</span>
<span class="sd">        buffer : float</span>
<span class="sd">            Buffer fraction surrounding the tight bounding box</span>

<span class="sd">    Returns:</span>
<span class="sd">        bbox (Tuple[float, float, float, float]):</span>
<span class="sd">            Tuple bounding box consisting of [min x, min y, max x, max y)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">coords</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">coords</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">x_min</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
    <span class="n">y_min</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
    <span class="n">x_max</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">y_max</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">buffer</span> <span class="o">*</span> <span class="nb">max</span><span class="p">(</span><span class="n">x_max</span> <span class="o">-</span> <span class="n">x_min</span><span class="p">,</span> <span class="n">y_max</span> <span class="o">-</span> <span class="n">y_min</span><span class="p">)</span>
    <span class="n">bbox</span> <span class="o">=</span> <span class="p">(</span><span class="n">x_min</span> <span class="o">-</span> <span class="n">d</span><span class="p">,</span> <span class="n">y_min</span> <span class="o">-</span> <span class="n">d</span><span class="p">,</span> <span class="n">x_max</span> <span class="o">+</span> <span class="n">d</span><span class="p">,</span> <span class="n">y_max</span> <span class="o">+</span> <span class="n">d</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">bbox</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="dfastbe.io.get_filename" class="doc doc-heading"><a href="#dfastbe.io.get_filename" class="toclink">
            <code class="highlight language-python"><span class="n">get_filename</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</a><a href="#dfastbe.io.get_filename" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Query the global dictionary of texts for a file name.</p>
<p>The file name entries in the global dictionary have a prefix "filename_"
which will be added to the key by this routine.</p>
<h5 id="dfastbe.io.get_filename--arguments"><a class="toclink" href="#dfastbe.io.get_filename--arguments">Arguments</a><a class="headerlink" href="#dfastbe.io.get_filename--arguments" title="Permanent link">#</a></h5>
<p>key : str
    The key string used to query the dictionary.</p>
<h5 id="dfastbe.io.get_filename--results"><a class="toclink" href="#dfastbe.io.get_filename--results">Results</a><a class="headerlink" href="#dfastbe.io.get_filename--results" title="Permanent link">#</a></h5>
<p>filename : str
    File name.</p>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_filename</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Query the global dictionary of texts for a file name.</span>

<span class="sd">    The file name entries in the global dictionary have a prefix &quot;filename_&quot;</span>
<span class="sd">    which will be added to the key by this routine.</span>

<span class="sd">    Arguments</span>
<span class="sd">    ---------</span>
<span class="sd">    key : str</span>
<span class="sd">        The key string used to query the dictionary.</span>

<span class="sd">    Results</span>
<span class="sd">    -------</span>
<span class="sd">    filename : str</span>
<span class="sd">        File name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">get_text</span><span class="p">(</span><span class="s2">&quot;filename_&quot;</span> <span class="o">+</span> <span class="n">key</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">filename</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="dfastbe.io.get_text" class="doc doc-heading"><a href="#dfastbe.io.get_text" class="toclink">
            <code class="highlight language-python"><span class="n">get_text</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</a><a href="#dfastbe.io.get_text" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Query the global dictionary of texts via a string key.</p>
<p>Query the global dictionary PROGTEXTS by means of a string key and return
the list of strings contained in the dictionary. If the dictionary doesn't
include the key, a default string is returned.</p>
<h5 id="dfastbe.io.get_text--parameters"><a class="toclink" href="#dfastbe.io.get_text--parameters">Parameters</a><a class="headerlink" href="#dfastbe.io.get_text--parameters" title="Permanent link">#</a></h5>
<p>key : str
    The key string used to query the dictionary.</p>
<h5 id="dfastbe.io.get_text--returns"><a class="toclink" href="#dfastbe.io.get_text--returns">Returns</a><a class="headerlink" href="#dfastbe.io.get_text--returns" title="Permanent link">#</a></h5>
<p>text : List[str]
    The list of strings returned contain the text stored in the dictionary
    for the key. If the key isn't available in the dictionary, the routine
    returns the default string "No message found for <key>"</p>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_text</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Query the global dictionary of texts via a string key.</span>

<span class="sd">    Query the global dictionary PROGTEXTS by means of a string key and return</span>
<span class="sd">    the list of strings contained in the dictionary. If the dictionary doesn&#39;t</span>
<span class="sd">    include the key, a default string is returned.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    key : str</span>
<span class="sd">        The key string used to query the dictionary.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    text : List[str]</span>
<span class="sd">        The list of strings returned contain the text stored in the dictionary</span>
<span class="sd">        for the key. If the key isn&#39;t available in the dictionary, the routine</span>
<span class="sd">        returns the default string &quot;No message found for &lt;key&gt;&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">global</span> <span class="n">PROGTEXTS</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">str_value</span> <span class="o">=</span> <span class="n">PROGTEXTS</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">str_value</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;No message found for &quot;</span> <span class="o">+</span> <span class="n">key</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">str_value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="dfastbe.io.load_program_texts" class="doc doc-heading"><a href="#dfastbe.io.load_program_texts" class="toclink">
            <code class="highlight language-python"><span class="n">load_program_texts</span><span class="p">(</span><span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</a><a href="#dfastbe.io.load_program_texts" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Load texts from a configuration file, and store globally for access.</p>
<p>This routine reads the text file "file_name", and detects the keywords
indicated by lines starting with [ and ending with ]. The content is
placed in a global dictionary PROGTEXTS which may be queried using the
routine "get_text". These routines are used to implement multi-language support.</p>
<h5 id="dfastbe.io.load_program_texts--arguments"><a class="toclink" href="#dfastbe.io.load_program_texts--arguments">Arguments</a><a class="headerlink" href="#dfastbe.io.load_program_texts--arguments" title="Permanent link">#</a></h5>
<p>file_name : str
    The name of the file to be read and parsed.</p>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_program_texts</span><span class="p">(</span><span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load texts from a configuration file, and store globally for access.</span>

<span class="sd">    This routine reads the text file &quot;file_name&quot;, and detects the keywords</span>
<span class="sd">    indicated by lines starting with [ and ending with ]. The content is</span>
<span class="sd">    placed in a global dictionary PROGTEXTS which may be queried using the</span>
<span class="sd">    routine &quot;get_text&quot;. These routines are used to implement multi-language support.</span>

<span class="sd">    Arguments</span>
<span class="sd">    ---------</span>
<span class="sd">    file_name : str</span>
<span class="sd">        The name of the file to be read and parsed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">PROGTEXTS</span>

    <span class="n">all_lines</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">text</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">key</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">all_lines</span><span class="p">:</span>
        <span class="n">r_line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">r_line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">r_line</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">text</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">r_line</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">text</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate entry for </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">text</span>

    <span class="n">PROGTEXTS</span> <span class="o">=</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="dfastbe.io.log_text" class="doc doc-heading"><a href="#dfastbe.io.log_text" class="toclink">
            <code class="highlight language-python"><span class="n">log_text</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TextIO</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="n">repeat</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">indent</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</a><a href="#dfastbe.io.log_text" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Write a text to standard out or file.</p>
<h5 id="dfastbe.io.log_text--arguments"><a class="toclink" href="#dfastbe.io.log_text--arguments">Arguments</a><a class="headerlink" href="#dfastbe.io.log_text--arguments" title="Permanent link">#</a></h5>
<p>key : str
    The key for the text to show to the user.
file : Optional[TextIO]
    The file to write to (None for writing to standard out).
data : Dict[str, Any]
    A dictionary used for placeholder expansions (default empty).
repeat : int
    The number of times that the same text should be repeated (default 1).
indent : str
    String to use for each line as indentation (default empty).</p>
<h5 id="dfastbe.io.log_text--returns"><a class="toclink" href="#dfastbe.io.log_text--returns">Returns</a><a class="headerlink" href="#dfastbe.io.log_text--returns" title="Permanent link">#</a></h5>
<p>None</p>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">log_text</span><span class="p">(</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TextIO</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span>
    <span class="n">repeat</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">indent</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Write a text to standard out or file.</span>

<span class="sd">    Arguments</span>
<span class="sd">    ---------</span>
<span class="sd">    key : str</span>
<span class="sd">        The key for the text to show to the user.</span>
<span class="sd">    file : Optional[TextIO]</span>
<span class="sd">        The file to write to (None for writing to standard out).</span>
<span class="sd">    data : Dict[str, Any]</span>
<span class="sd">        A dictionary used for placeholder expansions (default empty).</span>
<span class="sd">    repeat : int</span>
<span class="sd">        The number of times that the same text should be repeated (default 1).</span>
<span class="sd">    indent : str</span>
<span class="sd">        String to use for each line as indentation (default empty).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">str_value</span> <span class="o">=</span> <span class="n">get_text</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">repeat</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">str_value</span><span class="p">:</span>
            <span class="n">sexp</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">indent</span> <span class="o">+</span> <span class="n">sexp</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">indent</span> <span class="o">+</span> <span class="n">sexp</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="dfastbe.io.relative_path" class="doc doc-heading"><a href="#dfastbe.io.relative_path" class="toclink">
            <code class="highlight language-python"><span class="n">relative_path</span><span class="p">(</span><span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</a><a href="#dfastbe.io.relative_path" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Convert an absolute path to a relative path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rootdir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Any relative paths will be given relative to this location.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An absolute location.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A relative location if possible, otherwise the absolute location.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">relative_path</span><span class="p">(</span><span class="n">rootdir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert an absolute path to a relative path.</span>

<span class="sd">    Args:</span>
<span class="sd">        rootdir (str): Any relative paths will be given relative to this location.</span>
<span class="sd">        file (str): An absolute location.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: A relative location if possible, otherwise the absolute location.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">file</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">file</span>

    <span class="n">root_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">rootdir</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
    <span class="n">file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">file</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">root_path</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="dfastbe.io.write_csv" class="doc doc-heading"><a href="#dfastbe.io.write_csv" class="toclink">
            <code class="highlight language-python"><span class="n">write_csv</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</a><a href="#dfastbe.io.write_csv" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Write a data to csv file.</p>
<h5 id="dfastbe.io.write_csv--arguments"><a class="toclink" href="#dfastbe.io.write_csv--arguments">Arguments</a><a class="headerlink" href="#dfastbe.io.write_csv--arguments" title="Permanent link">#</a></h5>
<p>data : Dict[str, np.ndarray]
    Value(s) to be written.
filename : str
    Name of the file to be written.</p>
<h5 id="dfastbe.io.write_csv--returns"><a class="toclink" href="#dfastbe.io.write_csv--returns">Returns</a><a class="headerlink" href="#dfastbe.io.write_csv--returns" title="Permanent link">#</a></h5>
<p>None</p>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write_csv</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Write a data to csv file.</span>

<span class="sd">    Arguments</span>
<span class="sd">    ---------</span>
<span class="sd">    data : Dict[str, np.ndarray]</span>
<span class="sd">        Value(s) to be written.</span>
<span class="sd">    filename : str</span>
<span class="sd">        Name of the file to be written.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
    <span class="n">header</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">keys</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">header</span> <span class="o">=</span> <span class="n">header</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">keys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;&quot;, &#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">header</span> <span class="o">=</span> <span class="n">header</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">keys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">([</span><span class="n">array</span> <span class="k">for</span> <span class="n">array</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
    <span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;, &quot;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="n">header</span><span class="p">,</span> <span class="n">comments</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="dfastbe.io.write_km_eroded_volumes" class="doc doc-heading"><a href="#dfastbe.io.write_km_eroded_volumes" class="toclink">
            <code class="highlight language-python"><span class="n">write_km_eroded_volumes</span><span class="p">(</span><span class="n">stations</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</a><a href="#dfastbe.io.write_km_eroded_volumes" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Write a text file with eroded volume data binned per kilometre.</p>
<h5 id="dfastbe.io.write_km_eroded_volumes--arguments"><a class="toclink" href="#dfastbe.io.write_km_eroded_volumes--arguments">Arguments</a><a class="headerlink" href="#dfastbe.io.write_km_eroded_volumes--arguments" title="Permanent link">#</a></h5>
<p>stations :
    Array containing chainage values.
volume :
    Array containing erosion volume values.
file_name : str
    Name of the file to be written.</p>
<h5 id="dfastbe.io.write_km_eroded_volumes--returns"><a class="toclink" href="#dfastbe.io.write_km_eroded_volumes--returns">Returns</a><a class="headerlink" href="#dfastbe.io.write_km_eroded_volumes--returns" title="Permanent link">#</a></h5>
<p>None</p>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write_km_eroded_volumes</span><span class="p">(</span><span class="n">stations</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Write a text file with eroded volume data binned per kilometre.</span>

<span class="sd">    Arguments</span>
<span class="sd">    ---------</span>
<span class="sd">    stations :</span>
<span class="sd">        Array containing chainage values.</span>
<span class="sd">    volume :</span>
<span class="sd">        Array containing erosion volume values.</span>
<span class="sd">    file_name : str</span>
<span class="sd">        Name of the file to be written.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stations</span><span class="p">)):</span>
            <span class="n">str_value</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">volume</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="p">:]])</span>
            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stations</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="n">str_value</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="dfastbe.io.write_shp" class="doc doc-heading"><a href="#dfastbe.io.write_shp" class="toclink">
            <code class="highlight language-python"><span class="n">write_shp</span><span class="p">(</span><span class="n">geom</span><span class="p">:</span> <span class="n">GeoSeries</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</a><a href="#dfastbe.io.write_shp" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Write a shape file.</p>
<p>Write a shape file for a given GeoSeries and dictionary of np arrays.
The GeoSeries and all np should have equal length.</p>
<h5 id="dfastbe.io.write_shp--arguments"><a class="toclink" href="#dfastbe.io.write_shp--arguments">Arguments</a><a class="headerlink" href="#dfastbe.io.write_shp--arguments" title="Permanent link">#</a></h5>
<p>geom : geopandas.geoseries.GeoSeries
    geopandas GeoSeries containing k geometries.
data : Dict[str, np.ndarray]
    Dictionary of quantities to be written, each np array should have length k.
filename : str
    Name of the file to be written.</p>
<h5 id="dfastbe.io.write_shp--returns"><a class="toclink" href="#dfastbe.io.write_shp--returns">Returns</a><a class="headerlink" href="#dfastbe.io.write_shp--returns" title="Permanent link">#</a></h5>
<p>None</p>

            <details class="quote">
              <summary>Source code in <code>src/dfastbe/io.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write_shp</span><span class="p">(</span><span class="n">geom</span><span class="p">:</span> <span class="n">GeoSeries</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Write a shape file.</span>

<span class="sd">    Write a shape file for a given GeoSeries and dictionary of np arrays.</span>
<span class="sd">    The GeoSeries and all np should have equal length.</span>

<span class="sd">    Arguments</span>
<span class="sd">    ---------</span>
<span class="sd">    geom : geopandas.geoseries.GeoSeries</span>
<span class="sd">        geopandas GeoSeries containing k geometries.</span>
<span class="sd">    data : Dict[str, np.ndarray]</span>
<span class="sd">        Dictionary of quantities to be written, each np array should have length k.</span>
<span class="sd">    filename : str</span>
<span class="sd">        Name of the file to be written.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">geometry</span><span class="o">=</span><span class="n">geom</span><span class="p">)</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="bank_erosion.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: bank_erosion">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                bank_erosion
              </div>
            </div>
          </a>
        
        
          
          <a href="cmd.html" class="md-footer__link md-footer__link--next" aria-label="Next: cmd">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                cmd
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "search.highlight", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
      
    
  </body>
</html>